(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1014:function(e,t,n){e.exports={container:"c98",notCompatible:"c99",shake:"c9a","fade-in":"c9b"}},1015:function(e,t,n){"use strict";t.a=[6,8,10,12,14,16,18,20,32,42,56,64,72,96,120,172,200,240]},1016:function(e,t,n){"use strict";t.a={MIN_FONT_SIZE:6,MAX_FONT_SIZE:240,MAX_SLIDER_FONT_SIZE:120,MAX_DIGITS:3,MAX_TYPOGRAPHY_FONT_SIZE:64,MIN_TYPOGRAPHY_FONT_SIZE:10}},1029:function(e,t,n){"use strict";var a=n(386),o=n(0),r=n.n(o),i=n(4),l=n.n(i),c=n(610),s=n.n(c),u=n(114),f=n(440),p=n(413),m=n(14),d=n(7),h=n(1014),b=n.n(h),v=n(387),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){return y(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onOkClick;if(!t)return null;var a="https://help.bannersnack.com/hc/en-us/articles/115004303129",o=r.a.createElement(f.a,{href:a,target:"_blank",size:m.a.MEDIUM,key:a},v.a.helpCenterArticle),i=s()(v.a.fontUploadReadMore,"${fontFileNotCompatibleHelpCenterLink}",(function(){return o})),l=r.a.createElement("div",{className:b.a.fontFileNotCompatible},r.a.createElement("span",{className:b.a.notCompatible},v.a.fontFileUploadedNotCompatible),v.a.tryTtfRrOtf,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,i)),c=[r.a.createElement(u.a,{key:v.a.ok,onClick:n,skin:d.a.BLUE,minWidth:"100px"},v.a.ok)];return r.a.createElement("div",{className:b.a.container},r.a.createElement(p.a,{header:v.a.fontFileNotCompatible,onClose:n,buttons:c},l))}}]),t}(o.Component);w.propTypes={visible:l.a.bool,onOkClick:l.a.func.isRequired},w.defaultProps={visible:!1};var k=w,O=n(526),C=Object(a.c)((function(e){return{visible:e.bannerCreator.library.typography.uploadFontData.incompatibleFontsFormatPopinVisible}}),(function(e){return{onOkClick:function(){e(Object(O.h)())}}}))(k);t.a=C},1030:function(e,t,n){"use strict";var a=n(386),o=n(526),r=n(425),i=n(0),l=n.n(i),c=n(4),s=n.n(c),u=n(7),f=n(460),p=n(387),m=n(114),d=n(413);function h(e){var t=e.visible,n=e.errorCode,a=e.onClose,o=e.goToWorkspace;if(!t)return null;var r=void 0,i=void 0;switch(n){case f.a.NO_WORKSPACE_ACCESS:r=p.a.noWorkspaceAccessDescription,i=p.a.goToWorkspace;break;case f.a.NO_SWITCH_ACCOUNT_ACCESS:r=p.a.noSwitchAccountAccessDescription,i=p.a.backToMyAccount}var c=[l.a.createElement(m.a,{key:i,onClick:o,skin:u.a.BLUE},i)];return l.a.createElement(d.a,{header:p.a.noWorkspaceAccess,onClose:a,buttons:c},r)}h.propTypes={visible:s.a.bool,errorCode:s.a.oneOfType([s.a.string,s.a.number]),onClose:s.a.func,goToWorkspace:s.a.func.isRequired},h.defaultProps={visible:!1,errorCode:null,onClose:function(){}};var b=h,v=Object(a.c)((function(e){var t=e.bannerCreator.library.typography.uploadFontData.uploadFontsErrorCode;return{visible:t===f.a.NO_WORKSPACE_ACCESS||t===f.a.NO_SWITCH_ACCOUNT_ACCESS,errorCode:t}}),(function(e){return{onClose:function(){e(Object(o.i)())},goToWorkspace:function(){e(Object(r.a)())}}}))(b);t.a=v},1423:function(e,t,n){"use strict";t.a=function(e,t,n,a){return e>=n-t&&e<=n+a}},1424:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(4),i=n.n(r),l=n(117),c=n(50),s=n.n(c),u=n(458),f=n(394),p=n(415),m=n(661),d=n(392),h=n(1425),b=n.n(h),v=n(387),g=n(14),y=n(7),E=n(768),w=n(413),k=n(393),O=n(521),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var I=s.a.bind(b.a),S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));T.call(n);var a=n.getPopinSizes(),o=a.bannerWidth,r=a.bannerHeight;return n.state={iframeSrc:e.templateSrc,bannerWidth:o,bannerHeight:r,displayUpgradeBtn:e.blockTemplate},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:"componentDidMount",value:function(){this.loadBanner()}},{key:"getPopinSizes",value:function(){var e=this.props,t=e.templateHeight,n=e.templateWidth,a=Math.max(Math.min(parseInt(n)+60,window.innerWidth-200),600),o=Math.min(parseInt(t)+211,window.outerHeight-400),r=1,i=1;n>a-50&&(r=Math.floor((a-50)/n*100)/100),t>o-211&&(i=Math.floor((o-211)/t*100)/100);var l=Math.min(r,i);return{bannerWidth:n*l,bannerHeight:t*l,containerWidth:a,containerHeight:o}}},{key:"render",value:function(){var e=this,t=this.getPopinSizes().containerWidth,n=this.props,a=n.onCancel,r=n.animatedTemplatePreview,i=this.state.displayUpgradeBtn,l=r?o.a.createElement(d.b,{placement:k.a.BOTTOM,title:v.a.replayTooltip},o.a.createElement("div",{className:b.a.refreshIcon},o.a.createElement(p.a,{onClick:this.loadBanner,size:g.a.XLARGE,skin:y.a.DARK_GREY,icon:E.a}))):null;return o.a.createElement(w.a,{width:t+"px",onClose:a,padding:"0"},o.a.createElement("div",{className:b.a.previewTemplatePopin},o.a.createElement("div",{className:b.a.header},o.a.createElement(f.a,{size:g.a.LARGE,label:v.a.previewHeader,skin:y.a.WHITE}),l),o.a.createElement("div",{ref:function(t){e.refIframecontainer=t},className:b.a.body}),o.a.createElement("div",{className:I("footer","clearfix")},o.a.createElement("div",{className:b.a.button},o.a.createElement(u.a,{label:i?v.a.upgradePopinFooterButtonUpgrade:v.a.startFromThis,skin:y.a.GREEN,size:g.a.NORMAL,onClick:i?this.goToUpgrade:this.onSubmit})),o.a.createElement("div",{className:b.a.button},o.a.createElement(u.a,{label:v.a.cancel,size:g.a.NORMAL,onClick:a})))))}}]),t}(a.Component),T=function(){var e=this;this.onSubmit=function(){e.props.onSubmit(e.props.templateHash)},this.loadBanner=function(){var t=e.state,n=t.bannerHeight,a=t.bannerWidth,r=t.iframeSrc;if(e.refIframecontainer){Object(l.unmountComponentAtNode)(e.refIframecontainer);var i=o.a.createElement(m.a,{iframeSrc:r,width:a,height:n});Object(l.render)(i,e.refIframecontainer)}},this.goToUpgrade=function(){window.open(O.b),e.props.onCancel()}};S.propTypes={templateSrc:i.a.string.isRequired,templateHash:i.a.string,onSubmit:i.a.func.isRequired,onCancel:i.a.func.isRequired,blockTemplate:i.a.bool,templateWidth:i.a.number,templateHeight:i.a.number,animatedTemplatePreview:i.a.bool},S.defaultProps={blockTemplate:!1,templateHash:"",templateWidth:300,templateHeight:250,animatedTemplatePreview:!1},t.a=S},1425:function(e,t,n){e.exports={previewTemplatePopin:"bbe",header:"bbf",footer:"bbg",button:"bbh",refreshIcon:"bbi",body:"bbj",shake:"bbk","fade-in":"bbl"}},1722:function(e,t,n){var a;!function(){function o(e,t,n){return e.call.apply(e.bind,arguments)}function r(e,t,n){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,a),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function i(e,t,n){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var l=Date.now||function(){return+new Date};function c(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var s=!!window.FontFace;function u(e,t,n,a){if(t=e.c.createElement(t),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?t.style.cssText=n[o]:t.setAttribute(o,n[o]));return a&&t.appendChild(e.c.createTextNode(a)),t}function f(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e,t,n){t=t||[],n=n||[];for(var a=e.className.split(/\s+/),o=0;o<t.length;o+=1){for(var r=!1,i=0;i<a.length;i+=1)if(t[o]===a[i]){r=!0;break}r||a.push(t[o])}for(t=[],o=0;o<a.length;o+=1){for(r=!1,i=0;i<n.length;i+=1)if(a[o]===n[i]){r=!0;break}r||t.push(a[o])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(e,t){for(var n=e.className.split(/\s+/),a=0,o=n.length;a<o;a++)if(n[a]==t)return!0;return!1}function h(e,t,n){function a(){l&&o&&r&&(l(i),l=null)}t=u(e,"link",{rel:"stylesheet",href:t,media:"all"});var o=!1,r=!0,i=null,l=n||null;s?(t.onload=function(){o=!0,a()},t.onerror=function(){o=!0,i=Error("Stylesheet failed to load"),a()}):setTimeout((function(){o=!0,a()}),0),f(e,"head",t)}function b(e,t,n,a){var o=e.c.getElementsByTagName("head")[0];if(o){var r=u(e,"script",{src:t}),i=!1;return r.onload=r.onreadystatechange=function(){i||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout((function(){i||(i=!0,n&&n(Error("Script load timeout")))}),a||5e3),r}return null}function v(){this.a=0,this.c=null}function g(e){return e.a++,function(){e.a--,E(e)}}function y(e,t){e.c=t,E(e)}function E(e){0==e.a&&e.c&&(e.c(),e.c=null)}function w(e){this.a=e||"-"}function k(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function O(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var a=e[n].replace(/['"]/g,"");-1!=a.indexOf(" ")||/^\d/.test(a)?t.push("'"+a+"'"):t.push(a)}return t.join(",")}function C(e){return e.a+e.f}function I(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function S(e){var t=4,n="n",a=null;return e&&((a=e.match(/(normal|oblique|italic)/i))&&a[1]&&(n=a[1].substr(0,1).toLowerCase()),(a=e.match(/([1-9]00|normal|bold)/i))&&a[1]&&(/bold/i.test(a[1])?t=7:/[1-9]00/.test(a[1])&&(t=parseInt(a[1].substr(0,1),10)))),n+t}function T(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new w("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function j(e){if(e.g){var t=d(e.f,e.a.c("wf","active")),n=[],a=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),m(e.f,n,a)}P(e,"inactive")}function P(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,C(n)):e.h[t]())}function L(){this.c={}}function F(e,t){this.c=e,this.f=t,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function _(e){f(e.c,"body",e.a)}function A(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+O(e.c)+";font-style:"+I(e)+";font-weight:"+e.f+"00;"}function N(e,t,n,a,o,r){this.g=e,this.j=t,this.a=a,this.c=n,this.f=o||3e3,this.h=r||void 0}function R(e,t,n,a,o,r,i){this.v=e,this.B=t,this.c=n,this.a=a,this.s=i||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new F(this.c,this.s),this.h=new F(this.c,this.s),this.j=new F(this.c,this.s),this.m=new F(this.c,this.s),e=A(e=new k(this.a.c+",serif",C(this.a))),this.g.a.style.cssText=e,e=A(e=new k(this.a.c+",sans-serif",C(this.a))),this.h.a.style.cssText=e,e=A(e=new k("serif",C(this.a))),this.j.a.style.cssText=e,e=A(e=new k("sans-serif",C(this.a))),this.m.a.style.cssText=e,_(this.g),_(this.h),_(this.j),_(this.m)}w.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},N.prototype.start=function(){var e=this.c.o.document,t=this,n=l(),a=new Promise((function(a,o){!function r(){l()-n>=t.f?o():e.fonts.load(function(e){return I(e)+" "+e.f+"00 300px "+O(e.c)}(t.a),t.h).then((function(e){1<=e.length?a():setTimeout(r,25)}),(function(){o()}))}()})),o=null,r=new Promise((function(e,n){o=setTimeout(n,t.f)}));Promise.race([r,a]).then((function(){o&&(clearTimeout(o),o=null),t.g(t.a)}),(function(){t.j(t.a)}))};var x={D:"serif",C:"sans-serif"},M=null;function B(){if(null===M){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);M=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return M}function D(e,t,n){for(var a in x)if(x.hasOwnProperty(a)&&t===e.f[x[a]]&&n===e.f[x[a]])return!0;return!1}function z(e){var t,n=e.g.a.offsetWidth,a=e.h.a.offsetWidth;(t=n===e.f.serif&&a===e.f["sans-serif"])||(t=B()&&D(e,n,a)),t?l()-e.A>=e.w?B()&&D(e,n,a)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?U(e,e.v):U(e,e.B):function(e){setTimeout(i((function(){z(this)}),e),50)}(e):U(e,e.v)}function U(e,t){setTimeout(i((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),t(this.a)}),e),0)}function H(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=l(),z(this)};var W=null;function G(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&m(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),P(e,"active")):j(e.a))}function V(e){this.j=e,this.a=new L,this.h=0,this.f=this.g=!0}function Y(e,t,n,a,o){var r=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=o||null,l=a||{};if(0===n.length&&r)j(t.a);else{t.f+=n.length,r&&(t.j=r);var c,s=[];for(c=0;c<n.length;c++){var u=n[c],f=l[u.c],p=t.a,d=u;if(p.g&&m(p.f,[p.a.c("wf",d.c,C(d).toString(),"loading")]),P(p,"fontloading",d),p=null,null===W)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var h=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);W=d?42<parseInt(d[1],10):!h}else W=!1;p=W?new N(i(t.g,t),i(t.h,t),t.c,u,t.s,f):new R(i(t.g,t),i(t.h,t),t.c,u,t.s,e,f),s.push(p)}for(c=0;c<s.length;c++)s[c].start()}}),0)}function K(e,t){this.c=e,this.a=t}function q(e,t){this.c=e,this.a=t}function X(e,t){this.c=e||Z,this.a=[],this.f=[],this.g=t||""}H.prototype.g=function(e){var t=this.a;t.g&&m(t.f,[t.a.c("wf",e.c,C(e).toString(),"active")],[t.a.c("wf",e.c,C(e).toString(),"loading"),t.a.c("wf",e.c,C(e).toString(),"inactive")]),P(t,"fontactive",e),this.m=!0,G(this)},H.prototype.h=function(e){var t=this.a;if(t.g){var n=d(t.f,t.a.c("wf",e.c,C(e).toString(),"active")),a=[],o=[t.a.c("wf",e.c,C(e).toString(),"loading")];n||a.push(t.a.c("wf",e.c,C(e).toString(),"inactive")),m(t.f,a,o)}P(t,"fontinactive",e),G(this)},V.prototype.load=function(e){this.c=new c(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var a=[],o=n.timeout;!function(e){e.g&&m(e.f,[e.a.c("wf","loading")]),P(e,"loading")}(t);a=function(e,t,n){var a,o=[];for(a in t)if(t.hasOwnProperty(a)){var r=e.c[a];r&&o.push(r(t[a],n))}return o}(e.a,n,e.c);var r=new H(e.c,t,o);for(e.h=a.length,t=0,n=a.length;t<n;t++)a[t].load((function(t,n,a){Y(e,r,t,n,a)}))}(this,new T(this.c,e),e)},K.prototype.load=function(e){var t=this,n=t.a.projectId,a=t.a.version;if(n){var o=t.c.o;b(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(a?"?v="+a:""),(function(a){a?e([]):(o["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(o["__mti_fntLst"+n]){var a,r=o["__mti_fntLst"+n](),i=[];if(r)for(var l=0;l<r.length;l++){var c=r[l].fontfamily;null!=r[l].fontStyle&&null!=r[l].fontWeight?(a=r[l].fontStyle+r[l].fontWeight,i.push(new k(c,a))):i.push(new k(c))}e(i)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+n}else e([])},q.prototype.load=function(e){var t,n,a=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},i=new v;for(t=0,n=a.length;t<n;t++)h(this.c,a[t],g(i));var l=[];for(t=0,n=o.length;t<n;t++)if((a=o[t].split(":"))[1])for(var c=a[1].split(","),s=0;s<c.length;s+=1)l.push(new k(a[0],c[s]));else l.push(new k(a[0]));y(i,(function(){e(l,r)}))};var Z="https://fonts.googleapis.com/css";function J(e){this.f=e,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var ae={Arimo:!0,Cousine:!0,Tinos:!0};function oe(e,t){this.c=e,this.a=t}function re(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new v,n=this.c,a=new X(this.a.api,this.a.text),o=this.a.families;!function(e,t){for(var n=t.length,a=0;a<n;a++){var o=t[a].split(":");3==o.length&&e.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),e.a.push(o.join(r))}}(a,o);var r=new J(o);!function(e){for(var t=e.f.length,n=0;n<t;n++){var a=e.f[n].split(":"),o=a[0].replace(/\+/g," "),r=["n4"];if(2<=a.length){var i;if(i=[],l=a[1])for(var l,c=(l=l.split(",")).length,s=0;s<c;s++){var u;if((u=l[s]).match(/^[\w-]+$/))if(null==(p=te.exec(u.toLowerCase())))u="";else{if(u=null==(u=p[2])||""==u?"n":ee[u],null==(p=p[1])||""==p)p="4";else var f=Q[p],p=f||(isNaN(p)?"4":p.substr(0,1));u=[u,p].join("")}else u="";u&&i.push(u)}0<i.length&&(r=i),3==a.length&&(i=[],0<(a=(a=a[2])?a.split(","):i).length&&(a=$[a[0]])&&(e.c[o]=a))}for(e.c[o]||(a=$[o])&&(e.c[o]=a),a=0;a<r.length;a+=1)e.a.push(new k(o,r[a]))}}(r),h(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],a=0;a<t;a++)n.push(e.a[a].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(a),g(t)),y(t,(function(){e(r.a,r.c,ae)}))},oe.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?b(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var a=[],o=0;o<t.length;o+=2)for(var r=t[o],i=t[o+1],l=0;l<i.length;l++)a.push(new k(r,i[l]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(a)}}),2e3):e([])},re.prototype.load=function(e){var t=this.f.id,n=this.c.o,a=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var o=0,r=n.fonts.length;o<r;++o){var i=n.fonts[o];a.a.push(new k(i.name,S("font-weight:"+i.weight+";font-style:"+i.style)))}e(a.a)},b(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var ie=new V(window);ie.a.c.custom=function(e,t){return new q(t,e)},ie.a.c.fontdeck=function(e,t){return new re(t,e)},ie.a.c.monotype=function(e,t){return new K(t,e)},ie.a.c.typekit=function(e,t){return new oe(t,e)},ie.a.c.google=function(e,t){return new ne(t,e)};var le={load:i(ie.load,ie)};void 0===(a=function(){return le}.call(t,n,t,e))||(e.exports=a)}()},2459:function(e,t,n){e.exports={libraryError:"dmu",library:"dmv",librarySideBarError:"dn0",sidebar:"dn1",content:"dn2",shake:"dn3","fade-in":"dn4"}},2460:function(e,t,n){e.exports={upgradeOverlay:"e8u",content:"e8v",contentTitle:"e90",contentText:"e91",contentButton:"e92",lockIcon:"e93",shake:"e94","fade-in":"e95"}},2461:function(e,t,n){e.exports={uploadFontContainer:"ecg",readOnly:"ech",label:"eci",button:"ecj",content:"eck",uploadIcon:"ecl",premiumFlag:"ecm",shake:"ecn","fade-in":"eco"}},2462:function(e,t,n){e.exports={bulkActionsBarEnter:"elh",bulkActionsBarEnterActive:"eli",bulkActionsBarLeave:"elj",bulkActionsBarLeaveActive:"elk",leftWrapper:"ell",itemsSelector:"elm",icon:"eln",bulkActionGroup:"elo",rightGroup:"elp",shake:"elq","fade-in":"elr"}},2463:function(e,t,n){e.exports={vCenter:"ett",selectTypeFilter:"etu"}},2464:function(e,t,n){e.exports={fontItemContainer:"eke",header:"ekf",hasSubFamilies:"ekg",fontSvg:"ekh",arrow:"eki",opened:"ekj",body:"ekk",subFamilyFont:"ekl",subFamilyFontSvg:"ekm",fontWeight:"ekn",footerWrapper:"eko",footer:"ekp",uploader:"ekq",fontInfo:"ekr",subFamily:"eks",uploadedBy:"ekt",shake:"eku","fade-in":"ekv"}},2465:function(e,t,n){e.exports={skeletonItemContainer:"ek0",header:"ek1",checkboxPlaceholder:"ek2",fontSvgPlaceholder:"ek3",loadingAnimation:"ek4",footer:"ek5",fontInfoPlaceholder:"ek6",shake:"ek7","fade-in":"ek8"}},2466:function(e,t,n){e.exports={typograpyOptionsItemContainer:"enk",header:"enl",body:"enm",loading:"enn",footer:"eno",fontSizeSelect:"enp",shake:"enq","fade-in":"enr"}},2467:function(e,t,n){e.exports={container:"e6r",itemsContainer:"e6s",content:"e6t",fontList:"e6u",typographyOptions:"e6v",uploadFont:"e70",title:"e71",contentActivity:"e72",draggingFiles:"e73",draggingFilesOverlay:"e74",icon:"e75","shake-vertical":"e76",text:"e77",enter:"e78",enterActive:"e79",leave:"e7a",leaveActive:"e7b",shake:"e7c","fade-in":"e7d"}},2468:function(e,t,n){e.exports={moreOptionsPopover:"etb"}},2469:function(e,t,n){e.exports={bulkActionsBarEnter:"ejg",bulkActionsBarEnterActive:"ejh",bulkActionsBarLeave:"eji",bulkActionsBarLeaveActive:"ejj",libraryImagesBulkActionsBar:"ejk",leftSide:"ejl",itemsSelectorContainer:"ejm",bulkActionsContainer:"ejn",leftGroup:"ejo",separator:"ejp",folderName:"ejq",backButtonContainer:"ejr",filtersContainer:"ejs",search:"ejt",shake:"eju","fade-in":"ejv"}},2470:function(e,t,n){e.exports={dropzone:"ei2"}},2471:function(e,t,n){e.exports={draggingFilesOverlay:"em2",visible:"em3",draggingFilesPopin:"em4",icon:"em5","shake-vertical":"em6",title:"em7",text:"em8",enter:"em9",enterActive:"ema",leave:"emb",leaveActive:"emc",shake:"emd","fade-in":"eme"}},2472:function(e,t,n){e.exports={imageGrid:"ehk",title:"ehl",images:"ehm",column:"ehn",shake:"eho","fade-in":"ehp"}},2473:function(e,t,n){e.exports={myImageItemContainer:"eur",pending:"eus",dragging:"eut",myImageItemImg:"euu",myImageItemOverlay:"euv",myImageItemName:"ev0",multipleSelectMode:"ev1",uploading:"ev2",uploadProgressContainer:"ev3",uploadProgress:"ev4",enter:"ev5",enterActive:"ev6",leave:"ev7",leaveActive:"ev8",shake:"ev9","fade-in":"eva"}},2474:function(e,t,n){e.exports={image:"er8",loaded:"er9",shake:"era","fade-in":"erb"}},2475:function(e,t,n){e.exports={imageItemOverlay:"erc",topContainer:"erd",bottomContainer:"ere",buttonsContainer:"erf",btn:"erg",transparent:"erh",formatBadge:"eri",shake:"erj","fade-in":"erk"}},2476:function(e,t,n){},2477:function(e,t,n){e.exports={cont:"ei7",iconHolder:"ei8",libraryImagesTooltip:"ei9",button:"eia",shake:"eib","fade-in":"eic"}},2478:function(e,t,n){e.exports={overlayChildrenContainer:"ej0",middleContainer:"ej1",navigationButton:"ej2",imageContainer:"ej3",imageInfo:"ej4",imageInfoBoxLeft:"ej5",imageInfoBoxRight:"ej6",imageInfoBoxCenter:"ej7",shake:"ej8","fade-in":"ej9"}},2479:function(e,t,n){e.exports={container:"e6a",itemsContainer:"e6b",hasBulkActionsBar:"e6c",bulkActionsBarContainer:"e6d",noImageUploadedScreenVisible:"e6e",noImageScreenContent:"e6f",noImageHeader:"e6g",noImageText:"e6h",noItemsFoundContainer:"e6i",shake:"e6j","fade-in":"e6k"}},2480:function(e,t,n){e.exports={bulkActionsBarEnter:"el9",bulkActionsBarEnterActive:"ela",bulkActionsBarLeave:"elb",bulkActionsBarLeaveActive:"elc",itemsSelectorContainer:"eld",bulkBarContainer:"ele",shake:"elf","fade-in":"elg"}},2481:function(e,t,n){e.exports={colorItemContainer:"esq",multipleSelectMode:"esr",disabled:"ess",animating:"est",shake:"esu",colorContainer:"esv",footer:"et0",primaryLabel:"et1",overlay:"et2",topContainer:"et3",actionsIcons:"et4",editButtonContainer:"et5",enter:"et6",enterActive:"et7",leave:"et8",leaveActive:"et9","fade-in":"eta"}},2482:function(e,t,n){e.exports={colorListContainer:"els",addColorButton:"elt",plusSign:"elu",colorPickerContainer:"elv",shake:"em0","fade-in":"em1"}},2483:function(e,t,n){e.exports={colorPaletteContainer:"e8k",itemsContainer:"e8l",shake:"e8m","fade-in":"e8n"}},2484:function(e,t,n){e.exports={searchContainer:"ehq"}},2485:function(e,t,n){e.exports={itemsGrid:"eca",title:"ecb",items:"ecc",column:"ecd",shake:"ece","fade-in":"ecf"}},2486:function(e,t,n){e.exports={libraryTemplateItem:"eo5",multipleSelectMode:"eo6",selected:"eo7",deleting:"eo8",moving:"eo9",duplicating:"eoa",dragging:"eob",templatePreviewContainer:"eoc",templateTitle:"eod",templateState:"eoe",templateTitleContainer:"eof",enter:"eog",enterActive:"eoh",leave:"eoi",leaveActive:"eoj",shake:"eok","fade-in":"eol"}},2487:function(e,t,n){e.exports={templateItemOverlay:"es5",topContainer:"es6",bottomContainer:"es7",btn:"es8",transparent:"es9",mainContainer:"esa",buttonsContainer:"esb",templateSize:"esc",floatRight:"esd",enter:"ese",leave:"esf",enterActive:"esg",leaveActive:"esh",shake:"esi","fade-in":"esj"}},2488:function(e,t,n){e.exports={moreTemplateOptions:"f0l",separator:"f0m",buttons:"f0n",viewIconLabelButton:"f0o",editIconLabelButton:"f0p",deleteIconLabelButton:"f0q",embedIconLabelButton:"f0r",duplicateIconLabelButton:"f0s",shake:"f0t","fade-in":"f0u"}},2489:function(e,t,n){e.exports={libraryTemplatesContainer:"e37",itemsContainer:"e38",upgrade:"e39",noItemsContainer:"e3a",noItemsIcon:"e3b",noItemsHeading:"e3c",noItemsMessage:"e3d",row:"e3e",button:"e3f",fullWidth:"e3g",noItemsFoundContainer:"e3h",shake:"e3i","fade-in":"e3j"}},2490:function(e,t,n){e.exports={librarySidebarItem:"e2c",text:"e2d",icon:"e2e",selected:"e2f",shake:"e2g","fade-in":"e2h"}},2543:function(e,t,n){"use strict";n.r(t);var a=n(386),o=n(0),r=n.n(o),i=n(4),l=n.n(i),c=n(468),s=n(2459),u=n.n(s),f=n(85),p=n(551),m=n(526),d=n(50),h=n.n(d),b=n(586),v=n.n(b),g=n(450),y=n(1147),E=n(496),w=n(7),k=r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none"},r.a.createElement("mask",{id:"b",fill:"#fff"},r.a.createElement("path",{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})),r.a.createElement("g",{fill:"#526ede",mask:"url(#b)"},r.a.createElement("path",{d:"M0 0h24v24H0z"})))),O=n(1497),C=n(403),I=n(2460),S=n.n(I),T=n(14),j=n(640),P=n(387),L=n(114),F=n(394),_=n(521),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){var e,n,a;N(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onUpgrade=function(){window.open(_.b,"_blank")},R(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),A(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.contentText;return t?r.a.createElement("div",{className:S.a.upgradeOverlay},r.a.createElement("div",{className:S.a.content},r.a.createElement("div",{className:S.a.lockIcon},j.a),r.a.createElement("div",{className:S.a.contentTitle},r.a.createElement(F.a,{label:P.a.planSupport,skin:w.a.DARK_GREY,size:T.a.LARGE_THIN})),r.a.createElement("div",{className:S.a.contentText},r.a.createElement(F.a,{label:n,skin:w.a.DARK_GREY,size:T.a.LMEDIUM})),r.a.createElement("div",{className:S.a.contentButton},r.a.createElement(L.a,{onClick:this.onUpgrade,label:P.a.upgradeMyPlan,skin:w.a.BLUE,size:T.a.LARGE},r.a.createElement(F.a,{label:P.a.upgradeMyPlan,skin:w.a.PURE_WHITE,size:T.a.MEDIUM}))))):null}}]),t}(o.Component);x.propTypes={visible:l.a.bool,contentText:l.a.string},x.defaultProps={visible:!1,contentText:""};var M=x,B=n(1030),D=n(397),z=n(2461),U=n.n(z),H=n(395),W=n(1379),G=n(404),V=n(119),Y=n(38),K=n(22),q=n(463),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=h.a.bind(U.a),Q=function(e){function t(){var e,n,a;Z(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onUploadClick=function(){var e=a.props,t=e.isLimited,n=e.uploadingFonts,o=e.hasReachedMaxCustomFonts,r=e.showUpgradePopin,i=e.uploadBlocked,l=e.showError;if(!i)return o?(q.a.trackEvent("Triggered custom fonts Modal"),void r()):void(t||n||a.dropzoneRef.open());l(P.a.noEnoughPrivileges)},a.onReceiveSelectedFiles=function(e,t){a.props.uploadingFonts||Object(O.a)(e,t)},J(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),X(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.uploadingFonts,a=t.hasReachedMaxCustomFonts,i=n?r.a.createElement(H.a,{skin:w.a.WHITE,type:T.a.SMALL}):r.a.createElement(o.Fragment,null,r.a.createElement("div",{className:U.a.uploadIcon},r.a.createElement(G.a,{size:T.a.LARGE},W.a)),r.a.createElement(F.a,{label:P.a.uploadFont,skin:w.a.PURE_WHITE,size:T.a.NORMAL})),l=a?r.a.createElement("div",{className:U.a.premiumFlag},r.a.createElement(V.a,{type:Y.a.PREMIUM,container:K.a.BUTTONS})):null;return r.a.createElement("div",{className:$({uploadFontContainer:!0,readOnly:n}),onClick:this.onUploadClick},r.a.createElement("div",{className:U.a.label},P.a.uploadedFontLabel),r.a.createElement("div",{className:U.a.button},r.a.createElement(L.a,{onClick:function(){},label:P.a.uploadFont,skin:w.a.BLUE,readOnly:n},r.a.createElement("div",{className:U.a.content},i),l)),r.a.createElement(v.a,{ref:function(t){e.dropzoneRef=t},onDrop:this.onReceiveSelectedFiles,disableClick:!0,style:{display:"none"},accept:y.a.VALID_EXTENSIONS,multiple:!0}))}}]),t}(o.Component);Q.propTypes={isLimited:l.a.bool,uploadingFonts:l.a.bool,hasReachedMaxCustomFonts:l.a.bool,showUpgradePopin:l.a.func,uploadBlocked:l.a.bool,showError:l.a.func},Q.defaultProps={isLimited:!1,uploadingFonts:!1,hasReachedMaxCustomFonts:!1,showUpgradePopin:function(){},uploadBlocked:!1,showError:function(){}};var ee=Q,te=n(2462),ne=n.n(te),ae=n(641),oe=n(406),re=n(1135),ie=n(392),le=n(415),ce=n(615),se=n(550),ue=n(1475),fe=n(2463),pe=n.n(fe),me=n(65),de=n(1744),he=Object(me.createSelector)([function(e){return e.bannerCreator.library.typography.fontList}],(function(e){var t=[];return e.forEach((function(e){return e.subFamilies.forEach((function(e){var n=e.uploadedBy;t.includes(n)||t.push(n)}))})),t})),be=Object(me.createSelector)([function(e){return e.bannerCreator.workspace.managers},he],(function(e,t){return void 0===e?{}:e.filter((function(e){return-1!==t.indexOf(e.id)})).map((function(e){var t=e.id,n=e.screenname,a=e.email,o=e.profilePhoto,r=e.accountId;return{id:t,screenname:n||a.split("@")[0],profilePhoto:o,accountId:r}}))})),ve="/public/images/switchTo.svg",ge=Object(me.createSelector)([function(e){return e.bannerCreator.library.typography.selectedFontUploaderId},be],(function(e,t){var n=t.map((function(e){var t=e.screenname;return{text:t,screenname:t,value:e.id,profilePhoto:e.profilePhoto,accountId:e.accountId}})).sort((function(e,t){return e.screenname.localeCompare(t.screenname)}));return n.unshift({value:0,text:P.a.anyone,profilePhoto:ve}),{selectedUserId:e,users:n,switchAccount:!1,fontsFilter:!0}})),ye=Object(a.c)(ge,(function(e){return{onChangeUser:function(t){e(Object(m.m)(t))}}}))(de.a),Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Oe=function(e){function t(){return we(this,t),ke(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ee(t,[{key:"render",value:function(){var e=this.props.showFilterByUser?r.a.createElement("div",{className:pe.a.selectTypeFilter},r.a.createElement(ye,null)):null;return r.a.createElement("div",{className:pe.a.vCenter},e)}}]),t}(o.Component),Ce=Oe;Oe.propTypes={showFilterByUser:l.a.bool},Oe.defaultProps={showFilterByUser:!1};var Ie=n(1269),Se=Object(me.createSelector)([function(e){return e.bannerCreator.library.typography.fontList},function(e){return e.bannerCreator.library.typography.selectedFontUploaderId}],(function(e,t){return e.filter((function(e){var n=e.subFamilies;return 0===t||n.sort((function(e,t){return e.id>t.id?-1:1})).first().uploadedBy===t})).map((function(e){var t=e,n=e.subFamilies.map((function(e){var t=e.weight,n=e.subFamily;return e.set("subFamily",Object(Ie.a)(t,n))})).sort((function(e,t){return e.weight===t.weight?e.subFamily.length-t.subFamily.length:e.weight-t.weight}));return t.set("subFamilies",n)})).sort((function(e,t){var n=e.fontFamily.toLowerCase(),a=t.fontFamily.toLowerCase();return n.localeCompare(a)}))})),Te=n(932),je=n(115),Pe=Object(a.c)((function(e){var t=e.bannerCreator.library.typography.selectedFontUploaderId,n=Se(e).size,a=Object(je.a)(e).isInTeam;return{isInTeam:a,showFilterByUser:!Object(Te.a)(e)&&a&&(n>0||!!t)}}))(Ce),Le=h.a.bind(ne.a),Fe=function(e){var t=e.showDelete,n=e.itemsSelectorSelectedType,a=e.onDeleteClick,o=e.onSelectAllFonts,i=e.onDeselectAllFonts,l=e.showItemSelector,c=t?r.a.createElement("div",{className:ne.a.icon},r.a.createElement(ie.b,{placement:oe.a.BOTTOM,title:P.a.delete},r.a.createElement("span",null,r.a.createElement(le.a,{icon:re.a,iconSize:T.a.LARGE,size:T.a.XLARGE,skin:w.a.DARK_GREY,onClick:a})))):null,s=n===ce.a.SELECTED||n===ce.a.PARTIAL,u=l?r.a.createElement("div",{className:ne.a.itemsSelector},r.a.createElement(se.a,{icon:Object(ue.a)(n),openOnIconClick:!1,onIconClick:s?i:o,size:T.a.SMEDIUM,skin:w.a.DARK_GREY,tooltipText:s?P.a.deselectAll:P.a.selectAll})):null,f=r.a.createElement(Pe,null);return r.a.createElement(ae.a,{style:{padding:"0 20px"}},r.a.createElement("div",{className:ne.a.leftWrapper},u,r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:ne.a.bulkActionsBarEnter,enterActive:ne.a.bulkActionsBarEnterActive,leave:ne.a.bulkActionsBarLeave,leaveActive:ne.a.bulkActionsBarLeaveActive},transitionEnterTimeout:150,transitionLeaveTimeout:150,style:{height:"100%"}},c)),r.a.createElement("div",{className:Le("bulkActionGroup","rightGroup")},f))};Fe.propTypes={showDelete:l.a.bool,showItemSelector:l.a.bool,itemsSelectorSelectedType:l.a.oneOf([ce.a.DESELECTED,ce.a.PARTIAL,ce.a.SELECTED]),onDeleteClick:l.a.func,onSelectAllFonts:l.a.func,onDeselectAllFonts:l.a.func},Fe.defaultProps={showDelete:!1,itemsSelectorSelectedType:ce.a.DESELECTED,showItemSelector:!0,onDeleteClick:function(){},onSelectAllFonts:function(){},onDeselectAllFonts:function(){}};var _e=Fe,Ae=n(960),Ne=Object(a.c)((function(e){var t=e.bannerCreator.library,n=t.typography.selectedFontFamilies.size>0,a=t.typography.selectedFontFamilies,o=Se(e).size;return{showDelete:n,itemsSelectorSelectedType:Object(Ae.a)(o,a.size),showItemSelector:o>0}}),(function(e){return{onDeleteClick:function(){e(Object(m.n)())},onSelectAllFonts:function(){e(Object(m.l)())},onDeselectAllFonts:function(){e(Object(m.b)())}}}))(_e),Re=n(388),xe=n(2464),Me=n.n(xe),Be=n(2465),De=n.n(Be),ze=function(){return r.a.createElement("div",{className:De.a.skeletonItemContainer},r.a.createElement("div",{className:De.a.header},r.a.createElement("div",{className:De.a.checkboxPlaceholder}),r.a.createElement("div",{className:De.a.fontSvgPlaceholder})),r.a.createElement("div",{className:De.a.footer},r.a.createElement("span",{className:De.a.fontInfoPlaceholder})))},Ue=n(421),He=n(417),We=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ye=h.a.bind(Me.a),Ke=function(e){function t(){var e,n,a;Ge(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=Ve(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={opened:!1,svgLoaded:!1},a.onHeaderClick=function(){a.props.subFamilies.size>1&&a.setState((function(e){return{opened:!e.opened}}))},a.onFontSelect=function(e,t){var n=a.props,o=n.fontFamily;(0,n.onFontSelect)(o),t.stopPropagation(),!a.state.opened&&e&&a.setState({opened:!0})},a.onLoad=function(){a.setState({svgLoaded:!0})},a.getFontSubFamilies=function(){var e=a.props,t=e.subFamilies,n=e.selected,o=e.checkBoxVisible;if(!a.state.opened)return null;var i=o?r.a.createElement(Ue.a,{skin:w.a.GREY,disabled:!0,shape:He.a.ROUNDED_RECTANGLE,checked:n,onChange:function(){}}):null;return 1===t.size?null:t.map((function(e){return r.a.createElement("div",{className:Me.a.subFamilyFont,key:e.fontSvg,style:{height:"56px"}},i,r.a.createElement("div",{className:Me.a.subFamilyFontSvg,style:{backgroundImage:'url("//'+e.fontSvg+'")'}}),r.a.createElement("div",{className:Me.a.fontWeight},"("+e.subFamily+")"))}))},Ve(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),We(t,[{key:"componentDidMount",value:function(){var e=new Image,t=this.props.fontSvg;t&&(e.src="//"+t),e.addEventListener("load",this.onLoad)}},{key:"render",value:function(){var e=this.props,t=e.fontSvg,n=e.subFamilies,a=e.selected,o=e.checkBoxVisible,i=e.uploadedBy,l=e.uploadedByVisible,c=this.state,s=c.opened,u=c.svgLoaded,f=n.size>1,p=f?r.a.createElement("div",{className:Ye("arrow",{opened:s})}):null,m={height:s&&f?56*n.size+"px":0},d=o?r.a.createElement(Ue.a,{skin:a?w.a.BLUE:w.a.GREY,onChange:this.onFontSelect,shape:He.a.ROUNDED_RECTANGLE,checked:a}):null,h=1===n.size;return u?r.a.createElement("div",{className:Me.a.fontItemContainer},r.a.createElement("div",{className:Ye("header",{hasSubFamilies:f}),style:{height:"56px"},onClick:this.onHeaderClick},d,r.a.createElement("div",{className:Me.a.fontSvg,style:{backgroundImage:'url("//'+t+'")'}}),p),r.a.createElement("div",{className:Me.a.body,style:m},this.getFontSubFamilies()),r.a.createElement("div",{className:Me.a.footerWrapper},r.a.createElement("div",{className:Ye(Me.a.footer,{opened:s})},r.a.createElement("span",{className:Me.a.fontInfo},r.a.createElement("span",null,h?P.a.style+": ":P.a.styles+": "),r.a.createElement("span",{className:Me.a.subFamily},h?""+n.first().subFamily:""+n.size))),l&&r.a.createElement("div",{className:Ye(Me.a.footer,"uploader")},r.a.createElement("span",{className:Me.a.fontInfo},P.a.uploadedBy+": ",r.a.createElement("span",{className:Me.a.uploadedBy},i))))):r.a.createElement(ze,null)}}]),t}(o.Component),qe=Ke;Ke.propTypes={fontFamily:l.a.string,uploadedBy:l.a.string,fontSvg:l.a.string,onFontSelect:l.a.func,selected:l.a.bool,checkBoxVisible:l.a.bool,uploadedByVisible:l.a.bool,subFamilies:l.a.instanceOf(Re.List)},Ke.defaultProps={fontFamily:"",uploadedBy:"",fontSvg:"",onFontSelect:function(){},selected:!1,checkBoxVisible:!0,uploadedByVisible:!0,subFamilies:new Re.List};var Xe=n(705),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Je="Fade",$e="FadeExpand",Qe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getFontList=function(){var e=n.props,t=e.fontList,a=e.onFontSelect,o=e.selectedFontFamilies,i=e.loadingFonts,l=e.fontsLoaded,c=e.isLimited,s=e.isMainWorkspace;return i&&!l?n.getSkeletonItems(8):t.map((function(e){return e.subFamilies.size?r.a.createElement(qe,{uploadedBy:e.subFamilies.first().uploadedByName,uploadedByVisible:!s,fontFamily:e.fontFamily,fontSvg:e.subFamilies.first().fontSvg,subFamilies:e.subFamilies,key:e.fontFamily,onFontSelect:a,selected:o.contains(e.fontFamily),checkBoxVisible:!c}):r.a.createElement("span",{key:"skeleton-item-"+e.fontFamily,ref:function(e){n.refSkeletonItem=e}},r.a.createElement(ze,null))}))},n.getSkeletonItems=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Re.List,n=0;n<e;n++)t=t.push(r.a.createElement(ze,{key:"skeleton-item-"+(n+1)}));return t},n.state={transitionHelperVar:!1,props:e},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ze(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){if(Object(Xe.a)(e)||Object(Xe.a)(t))return null;var n=t.props,a=n.fontList,o=n.loadingFonts,r=n.uploadingFonts,i=e.fontList,l=e.loadingFonts,c=e.uploadingFonts,s={},u=!1;return r&&!c?(s.leaveShouldHaveTransition=!1,u=!0):t.transitionHelperVar||(s.leaveShouldHaveTransition=!0),a.size===i.size||o&&!l?(s.transitionClass=Je,t.transitionHelperVar&&(u=!1,s.leaveShouldHaveTransition=!1)):(s.transitionClass=$e,s.leaveShouldHaveTransition=!0,u=!1),s.transitionHelperVar=u,Object.assign({},s,{props:e})}}]),Ze(t,[{key:"componentDidMount",value:function(){this.props.onComponentDidMount()}},{key:"componentDidUpdate",value:function(e){this.props.uploadingFonts&&!e.uploadingFonts&&this.refSkeletonItem&&this.refSkeletonItem.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){return this.getFontList()}}]),t}(o.Component),et=Qe;Qe.propTypes={fontList:l.a.instanceOf(Re.List),onComponentDidMount:l.a.func,onFontSelect:l.a.func,selectedFontFamilies:l.a.instanceOf(Re.List),loadingFonts:l.a.bool,isLimited:l.a.bool,isMainWorkspace:l.a.bool,uploadingFonts:l.a.bool,fontsLoaded:l.a.bool},Qe.defaultProps={fontList:new Re.List,onComponentDidMount:function(){},onFontSelect:function(){},selectedFontFamilies:new Re.List,loadingFonts:!1,isMainWorkspace:!1,isLimited:!1,uploadingFonts:!1,fontsLoaded:!1};var tt=Object(a.c)((function(e){var t=e.bannerCreator.library.typography,n=t.selectedFontFamilies,a=t.loadingFonts,o=t.fontsLoaded,r=t.uploadFontData;return{fontList:Se(e),selectedFontFamilies:n,loadingFonts:a,fontsLoaded:o,uploadingFonts:r.uploadingFonts,isMainWorkspace:Object(Te.a)(e)}}),(function(e){return{onComponentDidMount:function(){e(Object(m.e)())},onFontSelect:function(t){e(Object(m.q)(t))}}}))(et),nt={HEADING:"heading",SUBHEADING:"subheading",BODY:"body"},at=n(2466),ot=n.n(at),rt=n(422),it=n(483),lt=n(671),ct=n(1157),st=n(400),ut=n(1015),ft=n(1016),pt=n(703),mt=n(481),dt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var vt=h.a.bind(ot.a),gt=function(e){function t(){var e,n,a;ht(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=bt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={fontPreloader:!0},a.onSelectFontSizeChange=function(e){var t=Object(mt.a)(e,ft.a.MIN_TYPOGRAPHY_FONT_SIZE,ft.a.MAX_TYPOGRAPHY_FONT_SIZE),n=a.props,o=n.isLimited,r=n.type,i=n.onChange;o||i(r,{fontSize:parseInt(t)})},a.onSelectFontGroupChange=function(e){var t=a.props,n=t.isLimited,o=t.type,r=t.onChange;if(!n){var i=Object.assign({},e);i.fontType&&(i.provider=i.fontType,delete i.fontType),r(o,i)}},a.loadFont=function(){var e=a.props,t=e.provider,n=e.fontFamily,o=e.fontWeight,r=e.fontStyle,i=e.fontUrl,l=e.fontFaceUrl,c=e.fontPrefix;Object(lt.a)(n,o,t,i,l,r,c,a.removeFontPreloader),a.retryTimeout=setTimeout(a.loadIfNotLoaded,2e3)},a.loadIfNotLoaded=function(){a.state.fontPreloader&&a.loadFont()},a.addFontPreloader=function(){a.setState({fontPreloader:!0})},a.removeFontPreloader=function(){a.setState({fontPreloader:!1})},bt(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),dt(t,[{key:"componentDidMount",value:function(){this.loadFont()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.provider,a=t.fontFamily,o=t.fontWeight,r=a!==e.fontFamily,i=o!==e.fontWeight;(r||i)&&((r||i&&n!==e.provider)&&this.addFontPreloader(),this.loadFont())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.retryTimeout)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.fontPrefix,a=e.fontFamily,o=e.fontWeight,i=e.fontSize,l=e.googleFontsList,c=e.fontStyle,s=e.provider,u=e.customFontsList,f=e.isLimited,p=this.state.fontPreloader,m=void 0;switch(t){case nt.BODY:m=P.a.libraryTypographyOptionsText2;break;default:m=P.a.libraryTypographyOptionsText1}var d={fontFamily:'"'+(null===n?"":n)+a+'"',fontWeight:o,fontStyle:c,fontSize:i+"px"};p&&(m=r.a.createElement("div",null,r.a.createElement("div",{className:"invisible"},m),r.a.createElement(H.a,null)));var h=ut.a.filter((function(e){return e<=ft.a.MAX_TYPOGRAPHY_FONT_SIZE&&e>=ft.a.MIN_TYPOGRAPHY_FONT_SIZE})).map((function(e){return{value:e}}));return r.a.createElement("div",{className:ot.a.typograpyOptionsItemContainer},r.a.createElement("div",{className:ot.a.header},P.a[t]),r.a.createElement("div",{className:vt("body",{loading:p}),style:d},m),r.a.createElement("div",{className:ot.a.footer},r.a.createElement(ct.a,{fontType:s,fontStyle:c,fontPrefix:n,fontWeight:o,fontFamily:a,placement:st.a.LIBRARY,customFontsList:u,googleFontsList:l,onChange:this.onSelectFontGroupChange,isLimited:f}),r.a.createElement("div",{className:ot.a.fontSizeSelect},r.a.createElement(rt.a,{items:h,skin:w.a.WHITE,onChange:this.onSelectFontSizeChange,value:i,componentType:"editableSelect",isNumeric:!0,arrowHoverBackground:!0,maxLength:ft.a.MAX_DIGITS,autoHide:!1,noBackgroundHover:!0,minVisibleItems:11}))))}}]),t}(o.Component);gt.propTypes={type:l.a.oneOf([nt.HEADING,nt.SUBHEADING,nt.BODY]),provider:l.a.oneOf([it.a.GOOGLE,it.a.BANNERSNACK,it.a.CUSTOM]),fontFamily:l.a.string,fontWeight:l.a.number,fontSize:l.a.number,fontStyle:l.a.oneOf([pt.a.NORMAL,pt.a.ITALIC]),fontUrl:l.a.string,fontFaceUrl:l.a.string,fontPrefix:l.a.string,customFontsList:l.a.arrayOf(l.a.shape({fontName:l.a.string,fontUrls:l.a.object,fontFaceUrls:l.a.object,fontWeight:l.a.array,fontWeightItalic:l.a.array,svgUrl:l.a.string,hash:l.a.object,fontType:l.a.string,fontPrefix:l.a.string})),onChange:l.a.func,isLimited:l.a.bool,googleFontsList:l.a.instanceOf(Array)},gt.defaultProps={type:null,provider:null,fontFamily:null,fontWeight:null,fontSize:null,fontStyle:null,fontUrl:null,fontFaceUrl:null,fontPrefix:null,customFontsList:[],onChange:function(){},isLimited:!1,googleFontsList:[]};var yt=gt,Et=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ot=function(e){function t(){return wt(this,t),kt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Et(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.customFontsList,a=e.isLimited,o=e.onChange,i=e.googleFontsList;return t&&t.size?t.map((function(e){var t=e.type,l=e.provider,c=e.fontFamily,s=e.fontWeight,u=e.fontSize,f=e.fontStyle,p=e.fontUrl,m=e.fontFaceUrl,d=e.fontPrefix;return r.a.createElement(yt,{key:t,type:t,provider:l,fontFamily:c,fontWeight:s,fontSize:u,fontStyle:f,fontUrl:p,fontFaceUrl:m,fontPrefix:d,customFontsList:n,googleFontsList:i,isLimited:a,onChange:o})})):null}}]),t}(o.Component);Ot.propTypes={options:l.a.instanceOf(Re.List),customFontsList:l.a.arrayOf(l.a.shape({fontName:l.a.string,fontUrls:l.a.object,fontPrefix:l.a.string,fontFaceUrls:l.a.object,fontWeight:l.a.array,fontWeightItalic:l.a.array,svgUrl:l.a.string,hash:l.a.object,fontType:l.a.string})),onChange:l.a.func,isLimited:l.a.bool,googleFontsList:l.a.instanceOf(Array)},Ot.defaultProps={options:null,customFontsList:[],onChange:function(){},isLimited:!1,googleFontsList:[]};var Ct=Ot,It=n(1031),St=n(992),Tt=n(985),jt=Object(a.c)((function(e){return{options:e.bannerCreator.library.typography.typographyOptions,customFontsList:Object(It.a)(e),googleFontsList:Object(Tt.a)(e),isLimited:Object(St.a)(e)}}),(function(e){return{onChange:function(t,n){e(Object(m.a)(t,n))}}}))(Ct),Pt=n(1173),Lt=n(1029),Ft=n(2467),_t=n.n(Ft),At=n(57),Nt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Rt=h.a.bind(_t.a);function xt(e){var t=e.isLimited,n=e.uploadingFonts,a=e.hasReachedMaxCustomFonts,i=e.uploadBlocked,l=e.showError,c=e.activityVisible,s=e.selectedWorkspaceId,u=e.selectedUserId,f=e.loadResources,p=Object(o.useState)(!1),m=Nt(p,2),d=m[0],h=m[1],b=Object(o.useRef)(null);Object(o.useEffect)((function(){f()}),[u,s,f]);var E=function(){var t=e.plan,n=e.showUpgradePopin;q.a.trackEvent("Triggered custom fonts Modal"),n("limitCustomFont"+Object(D.b)(t))},I=d?r.a.createElement("div",{className:_t.a.draggingFilesOverlay},r.a.createElement("div",{className:_t.a.icon},k),r.a.createElement("div",{className:_t.a.title},P.a.dropToUploadToLibrary),r.a.createElement("div",{className:_t.a.text},P.a.youCanDropSingleOrMultipleFiles)):null;return r.a.createElement("div",{className:_t.a.container},r.a.createElement(Ne,null),r.a.createElement("div",{className:Rt("itemsContainer",{draggingFiles:d})},r.a.createElement(v.a,{ref:b,onDrop:function(e,t){if(i)return l(P.a.noEnoughPrivileges),void h(!1);t.length&&"file"!==t[0].kind||(a?E():(n||Object(O.a)(e,t),h(!1)))},onDragEnter:function(e){a||e.dataTransfer.items.length&&"file"!==e.dataTransfer.items[0].kind||d||n||h(!0)},onDragLeave:function(){d&&h(!1)},disableClick:!0,style:{height:"100%"},accept:y.a.VALID_EXTENSIONS,multiple:!0,disabled:n},r.a.createElement(C.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,skin:w.a.TRANSPARENT_GREY},r.a.createElement("div",{className:Rt(_t.a.content,{contentActivity:c})},r.a.createElement("div",{className:_t.a.fontList},r.a.createElement("div",{className:_t.a.title},P.a.uploadedFonts),r.a.createElement("div",{className:_t.a.uploadFont},r.a.createElement(ee,{isLimited:t,uploadingFonts:n,hasReachedMaxCustomFonts:a,showUpgradePopin:E,showError:l,uploadBlocked:i})),r.a.createElement("div",null,r.a.createElement(tt,{isLimited:t}))),r.a.createElement("div",{className:_t.a.typographyOptions},r.a.createElement("div",{className:_t.a.title},P.a.typographyOptions),r.a.createElement("div",null,r.a.createElement(jt,null)))),r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:_t.a.enter,enterActive:_t.a.enterActive,leave:_t.a.leave,leaveActive:_t.a.leaveActive},transitionEnterTimeout:0,transitionLeaveTimeout:0},I)))),r.a.createElement(Pt.a,null),r.a.createElement(Lt.a,null),r.a.createElement(B.a,null),r.a.createElement(M,{visible:t,contentText:P.a.accessCustomLibraries}))}xt.propTypes={plan:l.a.oneOf([E.a.FREE,E.a.BASIC,E.a.PRO,E.a.BUSINESS,E.a.STARTER,E.a.TEAM,E.a.PLUS]).isRequired,isLimited:l.a.bool,uploadingFonts:l.a.bool,hasReachedMaxCustomFonts:l.a.bool,showUpgradePopin:l.a.func,uploadBlocked:l.a.bool,showError:l.a.func,activityVisible:l.a.bool,selectedWorkspaceId:l.a.number,selectedUserId:l.a.number,loadResources:l.a.func},xt.defaultProps={isLimited:!1,uploadingFonts:!1,hasReachedMaxCustomFonts:!1,showUpgradePopin:At.a,uploadBlocked:!1,showError:At.a,activityVisible:!1,selectedWorkspaceId:null,selectedUserId:null,loadResources:function(){}};var Mt=xt,Bt=n(454),Dt=n(399),zt=Object(me.createSelector)([Dt.a,function(e){return e.bannerCreator.library.typography.fontList}],(function(e,t){var n=e.bmCustomFonts,a=t.reduce((function(e,t){return e+t.subFamilies.size}),0),o=parseInt(n);return-1!==o&&a>=o})),Ut=n(457),Ht=Object(a.c)((function(e){var t=e.bannerCreator,n=t.library,a=t.activityLog,o=t.workspace,r=o.selectedWorkspaceId,i=o.selectedUserId;return{plan:Object(Ut.a)(e),isLimited:Object(St.a)(e),hasReachedMaxCustomFonts:zt(e),uploadingFonts:n.typography.uploadFontData.uploadingFonts,uploadBlocked:!Object(p.a)(e),activityVisible:a.visible,selectedWorkspaceId:r,selectedUserId:i}}),(function(e){return{showError:function(t){e(Object(Bt.g)(t))},showUpgradePopin:function(t){e(Object(Bt.h)(t))},loadResources:function(){e(Object(m.e)()),e(Object(m.d)()),e(Object(m.k)())}}}))(Mt),Wt=n(412),Gt=n(455),Vt=n(510),Yt=n(1387),Kt=n(814),qt=n(1494),Xt=n(1703),Zt=n(631),Jt=n(762),$t=n(1209),Qt=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.folderList},function(e){return e.bannerCreator.library.images.selectedFolders},function(e){return e.bannerCreator.library.images.pendingFolders},function(e){return e.bannerCreator.library.images.folderId},function(e){return e.bannerCreator.library.images.imageList},function(e){return e.bannerCreator.library.images.searchValue}],(function(e,t,n,a,o,r){return a||r?new Re.List:e.reverse().map((function(e){var a=e.id,r=e.name,i=e.last_modified,l=Object($t.b)(o,a).size;return{id:parseInt(a),name:r,last_modified:i,selected:t.contains(a),pending:n.contains(a),itemsCount:l}}))})),en=Object(me.createSelector)([Jt.a,Qt],(function(e,t){return e.size+t.size>0})),tn=Object(me.createSelector)([Jt.a,Qt,function(e){return e.bannerCreator.library.images.selectedImages},function(e){return e.bannerCreator.library.images.selectedFolders},en],(function(e,t,n,a,o){var r,i,l,c=e.size+t.size,s=n.size+a.size;return{visible:o,items:(r=!!e.size,i=!!t.size,l=[],r||l.push(Zt.a.IMAGES),i||l.push(Zt.a.FOLDERS),Xt.a.filter((function(e){return-1===l.indexOf(e.value)}))),iconToDisplay:Object(Ae.a)(c,s)}})),nn=Object(a.c)(tn,(function(e){return{onItemClick:function(t){e(Object(Gt.t)(t))}}}))(qt.a),an=n(650),on=n(443),rn=n(639),ln=n(668),cn=n(393),sn=n(2468),un=n.n(sn),fn=function(e){var t=e.onRenameClick,n=e.onDeleteClick,a=e.showRenameFolder?r.a.createElement(on.a,{icon:rn.a,label:P.a.rename,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:t}):null;return r.a.createElement(an.a,{size:T.a.XLARGE,skin:w.a.DARK_GREY},r.a.createElement("div",{className:un.a.moreOptionsPopover},a,r.a.createElement(on.a,{icon:ln.a,label:P.a.deleteBanner,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:n})))},pn=fn;fn.propTypes={onRenameClick:l.a.func,onDeleteClick:l.a.func,showRenameFolder:l.a.bool},fn.defaultProps={onRenameClick:function(){},onDeleteClick:function(){},showRenameFolder:!1};var mn=Object(a.c)((function(e){return{showRenameFolder:1===e.bannerCreator.library.images.selectedFolders.size}}),(function(e){return{onRenameClick:function(){e(Object(Gt.C)())},onDeleteClick:function(){e(Object(Gt.d)())}}}))(pn),dn=n(1736),hn=Object(a.c)((function(e){var t=e.bannerCreator.library.images,n=0===t.folderId?null:t.folderId;return{folderStructure:t.folderList.reverse(),selectedFolders:t.selectedFolders,currentFolder:n,showMoveToFolder:t.selectedImages.size>0}}),(function(e){return{moveSelectedItems:function(t){e(Object(Gt.o)(t))}}}))(dn.a),bn=n(2469),vn=n.n(bn),gn=n(1712),yn=n(396),En=n(1713),wn=n(1210),kn=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.imagesFilters.dateRange},wn.a,yn.e],(function(e,t,n){var a=e,o=t;return a.start||a.end||(a=o),{date:a=a.merge({start:new Date(a.start),end:new Date(a.end)}),dateMinMax:o=o.merge({start:new Date(o.start),end:new Date(o.end)}),search:n}})),On=Object(a.c)(kn)(En.a),Cn=n(505),In=n(402),Sn=n(596),Tn=n(797),jn=[{value:Sn.a.ALL,text:P.a.all},{value:Sn.a.PNG,text:Tn.a.PNG},{value:Sn.a.JPG,text:Tn.a.JPG},{value:Sn.a.GIF,text:Tn.a.GIF},{value:Sn.a.SVG,text:Tn.a.SVG}],Pn=Object(a.c)((function(e){var t=e.bannerCreator.library.images.imagesFilters.imageType;return{items:jn,value:t,showClearButton:t!==Sn.a.ALL,prefixText:P.a.type+":",updateKey:In.d.TYPE,search:Object(yn.e)(e)}}))(Cn.a),Ln=n(1752),Fn=n(691);var _n=Object(a.c)((function(e){return{isInSubfolder:!0,folderId:e.bannerCreator.library.images.folderId}}),(function(e){return{backFromFolder:function(){return e((function(e,t){var n,a,o,r=new Fn.a(t());r.addUpdateOrDeleteParam((n={},a=In.d.FOLDER,o=null,a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n)),Wt.c.push(r.getUrl())}))}}}))(Ln.a),An=n(446),Nn=n(611);function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=Object(a.c)((function(e){var t=e.bannerCreator.library.images.searchValue;return{placeholder:P.a.searchImages,searchBarContainer:!0,skin:w.a.DARK_GREY,value:t,placement:st.a.MY_BANNERS_FILTERS,showClearIcon:!0,withAnimation:!0}}),(function(){return{onSearch:function(e){Wt.c.push({search:Object(An.a)("",Rn({},In.d.SEARCH,e))})}}}))(Nn.a),Mn=n(1155),Bn=n(1714),Dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Hn=Kt.b.div({enter:{x:0,opacity:1,delay:100,transition:{duration:250}},exit:{x:-60,opacity:0,transition:{duration:200}}}),Wn=Kt.b.div({enter:{delay:200,opacity:1,transition:{duration:200}},exit:{opacity:0,transition:{duration:100}}}),Gn=function(e){function t(){var e,n,a;zn(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Un(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.setFiltersVisibility=function(){a.props.onFiltersIconClick(window.innerWidth>=Mn.a,window.innerWidth)},Un(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Dn(t,[{key:"componentDidMount",value:function(){this.setFiltersVisibility(),window.addEventListener("resize",this.setFiltersVisibility)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setFiltersVisibility)}},{key:"getFilters",value:function(){var e=this.props,t=e.activeFilters,n=e.fullFilters,a=e.onFiltersIconClick;return n?r.a.createElement(o.Fragment,null,r.a.createElement(Pn,null),r.a.createElement(On,null)):r.a.createElement(ie.b,{placement:oe.a.BOTTOM,title:P.a.showFullFilters},r.a.createElement("div",null,r.a.createElement(le.a,{skin:t?w.a.BLUE:w.a.DARK_GREY,size:T.a.XLARGE,icon:Bn.a,onClick:function(){a(!0,window.innerWidth)}})))}},{key:"render",value:function(){var e=this.props,t=e.showMoreFolderOptions,n=e.itemsSelectorIsVisible,a=e.selectedImagesCount,o=e.onDeleteClick,i=e.currentFolderName,l=e.showFilters,c=n?r.a.createElement("div",{className:vn.a.itemsSelectorContainer},r.a.createElement(nn,null)):null,s=t?r.a.createElement(mn,null):null,u=a?r.a.createElement(se.a,{icon:gn.a,size:T.a.LARGE,skin:w.a.DARK_GREY,tooltipText:P.a.moveTo,tooltipPlacement:oe.a.BOTTOM,attachCallback:!0},r.a.createElement(hn,{placement:st.a.LIBRARY})):null,f=a?r.a.createElement("div",{className:vn.a.icon},r.a.createElement(ie.b,{placement:oe.a.BOTTOM,title:P.a.delete},r.a.createElement("span",null,r.a.createElement(le.a,{icon:re.a,iconSize:T.a.LARGE,size:T.a.XLARGE,skin:w.a.DARK_GREY,onClick:o})))):null,p=i&&!a?r.a.createElement("div",{className:vn.a.folderName},i):null,m=l?null:r.a.createElement(Hn,{className:vn.a.leftGroup,key:"leftGroup"},p,r.a.createElement("div",{className:vn.a.separator},u),r.a.createElement("div",{className:vn.a.separator},f),r.a.createElement("div",{className:vn.a.iconSet},s)),d=l?r.a.createElement(Wn,{className:vn.a.filtersContainer,key:"filtersContainer"},r.a.createElement("div",{className:vn.a.search},r.a.createElement(xn,null)),this.getFilters()):null;return r.a.createElement("div",{className:vn.a.libraryImagesBulkActionsBar},r.a.createElement(ae.a,{style:{padding:"0 20px"}},r.a.createElement("div",{className:vn.a.leftSide},c,r.a.createElement("div",{className:vn.a.bulkActionsContainer},r.a.createElement("div",{className:vn.a.backButtonContainer},r.a.createElement(_n,null)),r.a.createElement(Kt.a,null,m))),r.a.createElement(Kt.a,{flipMove:!1},d)))}}]),t}(o.Component);Gn.propTypes={itemsSelectorIsVisible:l.a.bool,showMoreFolderOptions:l.a.bool,selectedImagesCount:l.a.bool,onDeleteClick:l.a.func,currentFolderName:l.a.string,showFilters:l.a.bool,fullFilters:l.a.bool,onFiltersIconClick:l.a.func,activeFilters:l.a.bool},Gn.defaultProps={itemsSelectorIsVisible:!1,showMoreFolderOptions:!1,selectedImagesCount:!1,onDeleteClick:function(){},currentFolderName:"",showFilters:!0,fullFilters:!0,onFiltersIconClick:function(){},activeFilters:!1};var Vn=Gn,Yn=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.folderList},function(e){return e.bannerCreator.library.images.folderId}],(function(e,t){return t&&e.find((function(e){return e.id===t}))?e.find((function(e){return e.id===t})).name:null})),Kn=Object(a.c)((function(e){var t=e.bannerCreator.library.images,n=t.selectedFolders,a=t.selectedImages,o=t.fullFilters,r=t.imagesFilters,i=r.imageType,l=r.dateRange,c=i!==Sn.a.ALL||!!l.start;return{itemsSelectorIsVisible:en(e),showMoreFolderOptions:1===n.size&&!a.size,selectedImagesCount:a.size>0&&!n.size,currentFolderName:Yn(e),showFilters:!a.size&&!n.size,fullFilters:o,activeFilters:c}}),(function(e){return{onDeleteClick:function(){e(Object(Gt.e)())},onFiltersIconClick:function(t,n){e(Object(Gt.z)(t,n))}}}))(Vn),qn=n(1718),Xn=Object(a.c)((function(e){var t=e.bannerCreator.library.images,n=t.imageList,a=t.draggingImages,o=void 0;if(1===a.size){var r=a.first(),i=n.find((function(e){return e.id===r}));if(!i)return{};o=P.a.move+" "+i.name}else a.size>1&&(o=P.a.moveXItems.replace("{x}",a.size));return{label:o}}))(qn.a),Zn={LIBRARY_IMAGES:"libraryImages",LIBRARY_FONTS:"libraryFonts"},Jn=n(2470),$n=n.n(Jn),Qn=n(2471),ea=n.n(Qn),ta=n(614),na=h.a.bind(ea.a),aa=function(e){var t=e.placement,n=e.visible,a=void 0,o=void 0;switch(t){case Zn.LIBRARY_FONTS:a=P.a.dropToUploadToLibrary,o=P.a.youCanDropSingleOrMultipleFiles;break;default:case Zn.LIBRARY_IMAGES:a=P.a.dropToUploadToLibrary,o=P.a.youCanDropSinglePsdFileOrMultipleImages}var i=n?r.a.createElement("div",{className:ea.a.draggingFilesPopin,key:"dragging-popin"},r.a.createElement("div",{className:ea.a.icon},t===Zn.LIBRARY_IMAGES?ta.b:k),r.a.createElement("div",{className:ea.a.title},a),r.a.createElement("div",{className:ea.a.text},o)):null;return r.a.createElement("div",{className:na(ea.a.draggingFilesOverlay,{visible:n})},r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:ea.a.enter,enterActive:ea.a.enterActive,leave:ea.a.leave,leaveActive:ea.a.leaveActive},transitionEnterTimeout:0,transitionLeaveTimeout:0},i))};aa.propTypes={placement:l.a.oneOf(Object.values(Zn)),visible:l.a.bool},aa.defaultProps={placement:Zn.LIBRARY_IMAGES,visible:!1};var oa=aa,ra=n(702),ia=n(798),la=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ua=ia.a.UPLOAD_MAX_SIZE,fa=ra.a.UPLOAD_PSD_MAX_SIZE,pa=function(e){function t(){var e,n,a;ca(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=sa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={dropzoneActive:!1},a.onDragEnter=function(){a.state.dropzoneActive||a.setState({dropzoneActive:!0})},a.onDragLeave=function(){a.setState({dropzoneActive:!1})},a.onDrop=function(e,t){var n=a.props,o=n.uploadBlocked,r=n.showError,i=n.onDrop;a.setState({dropzoneActive:!1}),o?r(P.a.noEnoughPrivileges):i(e,t)},sa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),la(t,[{key:"render",value:function(){var e=this.props,t=e.accept,n=e.placement,a=e.children,o=e.style;return r.a.createElement(v.a,{className:$n.a.dropzone,style:o,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onDrop:this.onDrop,multiple:!0,accept:t,disableClick:!0,maxSize:Math.max(fa,ua)},a,r.a.createElement(oa,{placement:n,visible:this.state.dropzoneActive}))}}]),t}(o.Component);pa.propTypes={placement:l.a.oneOf(Object.values(Zn)),onDrop:l.a.func,accept:l.a.string,style:l.a.object,children:l.a.node,uploadBlocked:l.a.bool,showError:l.a.func},pa.defaultProps={placement:Zn.LIBRARY_IMAGES,onDrop:function(){},style:null,accept:null,children:null,uploadBlocked:!1,showError:function(){}};var ma=pa,da=n(652),ha=Object(a.c)((function(e){return{accept:da.a.concat(",",da.b),placement:Zn.LIBRARY_IMAGES,uploadBlocked:!Object(p.a)(e)}}),(function(e){return{onDrop:function(t,n){e(Object(Gt.G)(t,n,{placement:st.a.LIBRARY,drop:!0}))},showError:function(t){e(Object(Bt.g)(t))}}}))(ma),ba=n(1749);var va=Object(a.c)((function(e){var t=e.bannerCreator.library.images,n=t.folderId,a=t.draggingImages,o=t.searchValue;return{folders:Qt(e),draggingItems:a,pendingItems:new Re.List,showAddNewFolder:!n&&!o}}),(function(e){return{onFolderClick:function(t,n){e(Object(Gt.r)(t,n))},onFolderDoubleClick:function(t){return e((function(e,n){var a,o,r,i=new Fn.a(n());i.addUpdateOrDeleteParam((a={},o=In.d.FOLDER,r=t,o in a?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r,a)),Wt.c.push(i.getUrl())}))},dropItems:function(t){e(Object(Gt.g)(t))},onAddNewFolderClick:function(){e(Object(Gt.w)())}}}))(ba.a),ga=n(2472),ya=n.n(ga),Ea=n(2473),wa=n.n(Ea),ka=208,Oa=24,Ca=214,Ia=140,Sa=400,Ta=n(627),ja=n(1142),Pa=n(1141),La=n(2474),Fa=n.n(La),_a=n(669),Aa=n(1140),Na=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ra=h.a.bind(Fa.a),xa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Ma.call(n);var a=e.imageFormat,o=e.hash,r=e.resizeType,i=e.blob,l=!!i,c=void 0;return c=l?i:a===Sn.a.JPG||a===Sn.a.PNG?Object(Pa.a)(o,r):Object(Ta.a)(o),n.state={loaded:l,error:!1,src:c},n.tries=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Na(t,[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.maxHeight,a=e.hash,i=e.borderRadius,l=void 0!==i&&i,c=this.state,s=c.loaded,u=c.error,f=c.src;return!u||s?r.a.createElement(o.Fragment,null,r.a.createElement("img",{alt:a,src:f,onError:this.onImageError,onLoad:this.onImageLoad,onClick:this.onClick,style:{maxHeight:n+"px",maxWidth:t+"px",borderTopRightRadius:l+"px",borderTopLeftRadius:l+"px"},className:Ra(Fa.a.image,{loaded:s})}),s?null:r.a.createElement(H.a,null)):u||!s?Aa.a:null}}]),t}(o.Component),Ma=function(){var e=this;this.onImageError=function(){switch(e.tries){case 0:e.setResizeUrl();break;case 1:e.setDefaultUrl();break;case 2:e.setState({error:!0})}e.tries+=1},this.onImageLoad=function(){e.setState({loaded:!0})},this.setResizeUrl=function(){var t=e.props,n=t.hash,a=t.resizeType;e.setState({src:Object(ja.a)(n,a)})},this.setDefaultUrl=function(){var t=e.props.hash;e.setState({src:Object(Ta.a)(t)})}},Ba=xa;xa.propTypes={hash:l.a.string,imageFormat:l.a.oneOf([Sn.a.GIF,Sn.a.JPG,Sn.a.PNG,Sn.a.SVG]),maxHeight:l.a.number,maxWidth:l.a.number,blob:l.a.string,resizeType:l.a.oneOf([_a.a.LARGE,_a.a.SMALL,_a.a.SMALL_MEDIUM,_a.a.MEDIUM,_a.a.MEDIUM_LARGE]),borderRadius:l.a.number},xa.defaultProps={hash:"",maxHeight:0,maxWidth:0,blob:null,imageFormat:Sn.a.PNG,resizeType:_a.a.SMALL,borderRadius:0};var Da=n(1055),za=n(576),Ua=n(1053),Ha=n(2475),Wa=n.n(Ha),Ga=n(127),Va=n(783),Ya=n(2476),Ka=n.n(Ya),qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ja(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $a=function(e){function t(){var e,n,a;Za(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Ja(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onRenameClick=function(){var e=a.props,t=e.hash,n=e.onRenameImageClick,o=e.onShowPopin;n(t),o()},a.onDeleteClick=function(){var e=a.props,t=e.hash,n=e.onDeleteImageClick,o=e.onShowPopin;n(t),o()},Ja(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xa(t,[{key:"render",value:function(){var e={size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,minWidth:"136px",alignContent:cn.a.LEFT};return r.a.createElement("div",{className:Ka.a.moreBannerOptions},r.a.createElement(an.a,null,r.a.createElement(o.Fragment,null,r.a.createElement(on.a,qa({},e,{icon:rn.a,label:P.a.rename,onClickHandler:this.onRenameClick})),r.a.createElement(on.a,qa({},e,{icon:re.a,label:P.a.delete,onClickHandler:this.onDeleteClick})))))}}]),t}(o.Component);$a.propTypes={hash:l.a.string.isRequired,onRenameImageClick:l.a.func,onDeleteImageClick:l.a.func,onShowPopin:l.a.func},$a.defaultProps={onRenameImageClick:function(){},onDeleteImageClick:function(){},onShowPopin:function(){}};var Qa=$a,eo=Object(a.c)(null,(function(e){return{onRenameImageClick:function(t){e(Object(Gt.D)(t))},onDeleteImageClick:function(t){e(Object(Gt.x)([t]))}}}))(Qa),to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Byte";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,n),2)+" "+t[n]},no=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ao(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ro=h.a.bind(Wa.a),io=function(e){function t(){var e,n,a;ao(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=a=oo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.getTopContainer=function(){var e=a.props,t=e.image.hash,n=e.selected,i=e.imageOptionsVisible,l=e.onCheckboxClick,c=e.onShowPopin,s=i?r.a.createElement(eo,{hash:t,onShowPopin:c}):null;return r.a.createElement(o.Fragment,null,r.a.createElement("div",{className:Wa.a.left},r.a.createElement(ie.b,{title:n?P.a.deselectOverlay:P.a.selectOverlay,skin:w.a.WHITE,placement:cn.a.BOTTOM},r.a.createElement("span",null,r.a.createElement(Ue.a,{skin:w.a.BLUE_WHITE,onChange:l,checked:n,shape:He.a.ROUNDED_RECTANGLE})))),r.a.createElement("div",{className:Wa.a.right},s))},a.getButtonsContainer=function(){return a.props.imageOptionsVisible?r.a.createElement(Va.a,null,r.a.createElement("div",{className:ro("btn","transparent")},r.a.createElement(on.a,{onClickHandler:a.showImagePreview,icon:Ga.a,label:P.a.view}))):null},a.getBottomContainer=function(){if(!a.props.imageOptionsVisible)return null;var e=a.props.image,t=e.format,n=e.width,i=e.height,l=e.imageSize;return r.a.createElement(o.Fragment,null,r.a.createElement("div",null,n+" x "+i+" ~ "+to(l)),r.a.createElement("div",{className:Wa.a.formatBadge},t))},a.showImagePreview=function(e){var t=a.props;(0,t.showImagePreview)(t.image.id,e)},oo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),no(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Wa.a.imageItemOverlay,"data-draggable":!0},r.a.createElement("div",{className:Wa.a.topContainer,"data-draggable":!0},this.getTopContainer()),r.a.createElement("div",{className:Wa.a.buttonsContainer},this.getButtonsContainer()),r.a.createElement("div",{className:Wa.a.bottomContainer},this.getBottomContainer()))}}]),t}(o.Component),lo=io;io.propTypes={image:l.a.instanceOf(Da.a),selected:l.a.bool,imageOptionsVisible:l.a.bool,showImagePreview:l.a.func,onCheckboxClick:l.a.func,onShowPopin:l.a.func},io.defaultProps={image:new Da.a,selected:!1,imageOptionsVisible:!1,showImagePreview:function(){},onCheckboxClick:function(){},onShowPopin:function(){}};var co=n(1423),so=n(398),uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ho=h.a.bind(wa.a),bo=function(e){function t(){var e,n,a;po(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=mo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={overlayVisible:!1,visible:!1,multipleSelectMode:!1},a.onImageClick=function(e){(e.ctrlKey||e.metaKey||e.shiftKey)&&a.onImageSelect()},a.onImageSelect=function(e,t){var n=a.props,o=n.image;(0,n.onImageSelect)(o.id),t&&t.stopPropagation()},a.onMouseOver=function(e){var t={multipleSelectMode:e.ctrlKey||e.metaKey||e.shiftKey};a.state.overlayVisible||(t.overlayVisible=!0),a.setState(t)},a.getUploadingProgress=function(){var e=a.props.image,t=e.uploadPercent,n=e.uploading,o=e.hash;if(!n)return null;var i={width:100*t+"%"};return r.a.createElement("div",{className:wa.a.uploading,key:"uploading"+o},r.a.createElement("div",{className:wa.a.uploadProgressContainer},r.a.createElement("div",{className:wa.a.uploadProgress,style:i})))},a.getImageHeight=function(){var e=a.props,t=e.imageContainerWidth,n=e.image,o=n.width,r=n.height*t/o;return Math.min(r,Sa)},a.timeoutIsInView=null,a.showOverlay=function(){a.state.overlayVisible||a.setState({overlayVisible:!0})},a.hideOverlay=function(){var e=a.state,t=e.overlayVisible,n=e.multipleSelectMode;(t||n)&&a.setState({overlayVisible:!1,multipleSelectMode:!1})},a.showImagePreview=function(e,t){a.props.showImagePreview(e),t.stopPropagation()},mo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fo(t,[{key:"componentDidMount",value:function(){var e=this;this.timeoutIsInView=setTimeout((function(){var t=e.props.scroll,n=t.scrollTop,a=t.clientHeight,o=e.refContainer.offsetTop+153,r=e.refContainer.offsetHeight;Object(co.a)(o,r,n,a)&&e.setState({visible:!0})}),50)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.visible;if(!t){var n=this.props.scroll,a=n.scrollTop,o=n.clientHeight;clearTimeout(this.timeoutIsInView),this.timeoutIsInView=setTimeout((function(){var n=e.refContainer.offsetTop+153,r=e.refContainer.offsetHeight;!t&&Object(co.a)(n,r,a,o)&&e.setState({visible:!0})}),50)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutIsInView)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selected,a=t.pending,o=t.dragging,i=t.image,l=t.imageContainerHeight,c=t.imageContainerWidth,s=t.left,u=t.top,f=t.areDraggingImages,p=i.id,m=i.hash,d=i.format,h=this.state,b=h.visible,v=h.overlayVisible,y=h.multipleSelectMode,E=null,w=i.width>=c&&i.height>=l&&Math.round(i.width/c*10)/10==Math.round(i.height/l*10)/10?6:0;if(b){var k=(v||n||y)&&!f?r.a.createElement(lo,{showImagePreview:this.showImagePreview,onShowPopin:this.hideOverlay,image:i,selected:n,imageOptionsVisible:v&&!y,multipleSelectMode:y,onCheckboxClick:this.onImageSelect}):null;E=[r.a.createElement(Ba,{key:"image-"+m,maxHeight:this.getImageHeight(),maxWidth:c,imageFormat:d,hash:m,blob:i.path,resizeType:_a.a.MEDIUM,borderRadius:w}),r.a.createElement(g.CSSTransitionGroup,{key:"overlay-"+m,transitionName:{enter:wa.a.enter,leave:wa.a.leave,enterActive:wa.a.enterActive,leaveActive:wa.a.leaveActive},transitionEnterTimeout:100,transitionLeaveTimeout:100},k),this.getUploadingProgress()]}var O={className:ho("myImageItemContainer",{pending:a,dragging:o,multipleSelectMode:y}),ref:function(t){e.refContainer=t}};return a||o||(O=Object.assign(O,{"data-item":!0,"data-item-type":za.a.IMAGE,"data-id":p,"data-selected":n,onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,onMouseOver:this.onMouseOver,onClick:this.onImageClick})),r.a.createElement("div",uo({},O,{style:{width:c+"px",left:s+"px",top:u+"px"},"data-qa":so.zb}),r.a.createElement("div",{className:wa.a.myImageItemImg,style:{height:l+"px"}},E),r.a.createElement("div",{title:i.name,className:wa.a.myImageItemName,"data-draggable":!0},i.name))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.dragging?{overlayVisible:!1}:null}}]),t}(o.PureComponent),vo=bo;bo.propTypes={image:l.a.instanceOf(Da.a).isRequired,selected:l.a.bool,pending:l.a.bool,dragging:l.a.bool,areDraggingImages:l.a.bool,left:l.a.number,top:l.a.number,imageContainerWidth:l.a.number,scroll:l.a.instanceOf(Ua.a),onImageSelect:l.a.func,showImagePreview:l.a.func,imageContainerHeight:l.a.number},bo.defaultProps={selected:!1,pending:!1,dragging:!1,areDraggingImages:!1,left:0,top:0,imageContainerWidth:0,scroll:null,onImageSelect:function(){},showImagePreview:function(){},imageContainerHeight:0};var go=n(1386),yo=n(2477),Eo=n.n(yo),wo=n(116),ko=ra.a.UPLOAD_PSD_MAX_SIZE,Oo=ia.a.UPLOAD_MAX_SIZE,Co=function(e){var t=e.width,n=e.onUploadFile,a=e.onlyButton,o=e.uploadBlocked,i=e.showError,l=void 0,c=function(){o?i(P.a.noEnoughPrivileges):l.open()},s=[r.a.createElement("div",{className:Eo.a.button,key:"button",onClick:a?c:function(){},onKeyDown:a?c:function(){}},r.a.createElement(L.a,{skin:w.a.BLUE},P.a.libraryUploadFiles)),r.a.createElement(v.a,{ref:function(e){l=e},onDrop:n,disableClick:!0,key:"dropzone",style:{display:"none"},accept:da.a.concat(",",da.b),multiple:!0,maxSize:Math.max(ko,Oo)})];return a?s:r.a.createElement("div",{"data-qa":so.Ab,className:Eo.a.cont,style:{width:t+"px"},onClick:c,onKeyDown:c},r.a.createElement("div",{className:Eo.a.libraryImagesTooltip},r.a.createElement(ie.b,{placement:cn.a.RIGHT,skin:w.a.GREY,html:!0,title:P.a.libraryUploadImagesTooltip,trigger:[ie.a.HOVER]},r.a.createElement("span",null,r.a.createElement(G.a,{size:T.a.SMALL},wo.a.info)))),r.a.createElement("span",{className:Eo.a.iconHolder},ta.b),s,r.a.createElement("p",null,P.a.dragAndDropFiles))};Co.propTypes={width:l.a.number,onlyButton:l.a.bool,onUploadFile:l.a.func.isRequired,uploadBlocked:l.a.bool,showError:l.a.func},Co.defaultProps={width:0,onlyButton:!1,uploadBlocked:!1,showError:function(){}};var Io=Co,So=Object(a.c)((function(e){return{uploadBlocked:!Object(p.a)(e)}}),(function(e){return{onUploadFile:function(t,n){e(Object(Gt.G)(t,n,{placement:st.a.LIBRARY}))},showError:function(t){e(Object(Bt.g)(t))}}}))(Io),To=n(961),jo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Fo=function(){},_o=function(e){function t(){var e,n,a;Po(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Lo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={columnWidth:0,columnsNumber:0},a.calculateColumnWidth=function(){if(a.refImageList){var e=a.refImageList.clientWidth,t=Math.floor(e/ka),n=Math.floor(e/t)-Oa;a.setState({columnWidth:n,columnsNumber:t})}},Lo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),jo(t,[{key:"componentDidMount",value:function(){this.calculateColumnWidth(),window.addEventListener("resize",this.calculateColumnWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.calculateColumnWidth),clearInterval(this.verifyColumnWidth)}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageList,a=t.onImageSelect,o=t.scroll,i=t.showImagePreview,l=t.startDraggingItems,c=t.stopDraggingItems,s=t.areDraggingImages,u=t.areFolders,f=t.showUploadImage,p=this.state,m=p.columnsNumber,d=p.columnWidth,h=n.size>0?r.a.createElement("div",{className:ya.a.title},P.a.images):"",b=[],v=[],g=0;if(this.state.columnsNumber){f&&v.push(r.a.createElement(So,{width:d,key:"upload-container"}));for(var y=0;y<m;y++)b.push({height:0===y&&f?Ca+Oa:0});var E=0,w=600;if(n.size>600){var k=o.top;E=n.size*k-250,w=n.size*k+350}n.forEach((function(e,t){var n=e.image,f=n.id,p=n.width,m=n.height,h=n.key,g=e.selected,y=e.pending,k=e.dragging,O=Math.max(Math.min(d*parseInt(m)/parseInt(p),Sa),Ia),C=!y&&u,I=Object(go.a)(b),S=b[I].height,T=I*(d+Oa);b[I].height+=O+42+Oa,t>=E&&t<=w&&v.push(r.a.createElement(To.a,{key:"grid-image-item-"+h,draggable:C,droppable:!1,startDraggingItems:function(){l(f)},itemId:f,stopDraggingItems:C?c:Fo,placement:st.a.IMAGE_GRID},r.a.createElement(vo,{image:e.image,left:T,top:S,scroll:o,selected:g,pending:y,dragging:k,areDraggingImages:s,imageContainerWidth:d,imageContainerHeight:O,onImageSelect:a,showImagePreview:i})))})),b.forEach((function(e){g<e.height&&(g=e.height)}))}return r.a.createElement("div",{className:ya.a.imageGrid},h,r.a.createElement("div",{ref:function(t){e.refImageList=t},className:ya.a.images,style:{minHeight:g+"px"}},v))}}]),t}(o.Component);_o.propTypes={imageList:l.a.instanceOf(Re.List),scroll:l.a.instanceOf(Ua.a).isRequired,areFolders:l.a.bool,areDraggingImages:l.a.bool,onImageSelect:l.a.func,showImagePreview:l.a.func,startDraggingItems:l.a.func,stopDraggingItems:l.a.func,showUploadImage:l.a.bool},_o.defaultProps={imageList:new Re.List,areFolders:!1,areDraggingImages:!1,onImageSelect:function(){},showImagePreview:function(){},startDraggingItems:function(){},stopDraggingItems:function(){},showUploadImage:!0};var Ao=_o,No=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.draggingImages}],(function(e){return!!e.size})),Ro=n(1056),xo=Object(a.c)((function(e){return{imageList:Object(Jt.a)(e),scroll:e.bannerCreator.library.images.scroll,areFolders:!!Qt(e).size,areDraggingImages:No(e),showUploadImage:!Object(Ro.a)(e)}}),(function(e){return{onImageSelect:function(t){e(Object(Gt.s)(t))},showImagePreview:function(t){e(Object(Gt.y)(t))},startDraggingItems:function(t){e(Object(Gt.E)(t))},stopDraggingItems:function(){e(Object(Gt.F)())}}}))(Ao),Mo=n(517),Bo=n(117),Do=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var zo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Do(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.element)}},{key:"render",value:function(){return Object(Bo.createPortal)(this.props.children,this.element)}}]),t}(o.PureComponent);zo.propTypes={children:l.a.node.isRequired};var Uo=zo,Ho=n(2478),Wo=n.n(Ho),Go=n(1070),Vo=n(1071),Yo=n(416),Ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var qo={},Xo=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onImageLoad=function(){!1===e.state.imagePreviewLoaded&&e.setState({imagePreviewLoaded:!0})},e.setWindowSizes=function(){var t=window,n=t.innerWidth,a=t.innerHeight;e.setState({windowWidth:n,windowHeight:a})},e.getSizes=function(){var t=e.props.imagePreview,n=t.width,a=t.height,o=e.state,r=o.windowWidth,i=o.windowHeight;r=Math.max(r,400),i=Math.max(i,400);var l=Object(mt.a)(parseInt(n)+60,600,r-80),c=Math.min(parseInt(a)+100,i-100),s=1,u=1;n>l-50&&(s=Math.floor((l-50)/n*100)/100),a>c-100&&(u=Math.floor((c-100)/a*100)/100);var f=Math.min(s,u);return{scaledWidth:parseInt(n*f),scaledHeight:parseInt(a*f)}},e.handleKeyDown=function(t){var n=e.props,a=n.showNextImagePreview,o=n.showPreviousImagePreview,r=n.isFirst,i=n.isLast;Yo.a.left!==t.keyCode||r?Yo.a.right!==t.keyCode||i||(t.preventDefault(),a()):(t.preventDefault(),o())},e.state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,imagePreviewLoaded:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ko(t,null,[{key:"getImageUrl",value:function(e){return"//cdn.bannersnack.com/files/"+e}}]),Ko(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.imagePreview,n=e.imagePreview;t&&!n?(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("resize",this.setWindowSizes),document.body.style.overflow="hidden",this.setWindowSizes()):!t&&n&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("resize",this.setWindowSizes),document.body.style.overflow="auto"),!t||!t.hash||n&&t.hash===n.hash||this.preloadNextPrevImage()}},{key:"preloadNextPrevImage",value:function(){var e=this.props,t=e.imagePrev,n=e.imageNext;t&&this.preloadImage(t.hash),n&&this.preloadImage(n.hash),this.setState({imagePreviewLoaded:!1})}},{key:"preloadImage",value:function(e){var n=t.getImageUrl(e);if(!qo[n]){var a=new window.Image;a.src=n,a.addEventListener("load",(function(){qo[n]=!0}))}}},{key:"render",value:function(){var e=this.props,n=e.imagePreview,a=e.hideImagePreview,o=e.showNextImagePreview,i=e.showPreviousImagePreview,l=e.isFirst,c=e.isLast;if(!this.props.imagePreview)return null;var s=n.name,u=n.format,f=n.width,p=n.height,m=n.imageSize,d=n.hash,h=this.state.imagePreviewLoaded,b=this.getSizes(),v=b.scaledWidth,g=b.scaledHeight,y=t.getImageUrl(d);qo[y]=!0;var E=l?"hidden":"visible",k=c?"hidden":"visible",O=new Image;O.src=y,O.addEventListener("load",this.onImageLoad);var C=h?r.a.createElement("div",{className:h?Wo.a.imageContainer:"hidden",style:{width:v+"px",height:g+"px"}},r.a.createElement("img",{src:y,alt:"Preview",onLoad:this.onImageLoad})):r.a.createElement(H.a,{type:T.a.XLARGE,skin:w.a.WHITE}),I=to(m);return r.a.createElement(Uo,null,r.a.createElement(Mo.a,{opacity:.8,align:cn.a.CENTER,skin:w.a.FULL_BLACK,fullScreen:!0,closeOnOverlayClick:!0,ignoreHeaderHeight:!0,onCloseHandler:a},r.a.createElement("div",{className:Wo.a.overlayChildrenContainer,"data-qa":so.Bb},r.a.createElement("div",{className:Wo.a.middleContainer},r.a.createElement("div",{onClick:i,className:Wo.a.navigationButton,style:{visibility:E}},Go.a),C,r.a.createElement("div",{onClick:o,className:Wo.a.navigationButton,style:{visibility:k}},Vo.a)),r.a.createElement("div",{className:Wo.a.imageInfo},r.a.createElement("div",{className:Wo.a.imageInfoBoxLeft},s),r.a.createElement("div",{className:Wo.a.imageInfoBoxCenter},u?u.toUpperCase()+" - ":null,f," x ",p," ~ ",I),r.a.createElement("div",{className:Wo.a.imageInfoBoxRight})))))}}]),t}(o.Component);Xo.propTypes={isFirst:l.a.bool,isLast:l.a.bool,imagePreview:l.a.instanceOf(Da.a),imagePrev:l.a.instanceOf(Da.a),imageNext:l.a.instanceOf(Da.a),hideImagePreview:l.a.func,showNextImagePreview:l.a.func,showPreviousImagePreview:l.a.func},Xo.defaultProps={isFirst:!1,isLast:!1,imagePreview:null,imagePrev:null,imageNext:null,hideImagePreview:function(){},showNextImagePreview:function(){},showPreviousImagePreview:function(){}};var Zo=Xo,Jo=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.imagePreviewId},Jt.a],(function(e,t){var n=t.findIndex((function(t){var n=t.image;return e===n.id}));return{prev:n>0?t.get(n-1).image:null,next:n>-1&&t.size>n+1?t.get(n+1).image:null,current:n>-1?t.get(n).image:null}})),$o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var Qo=Object(a.c)((function(e){var t=Jo(e),n=t.current,a=t.prev,o=t.next;return{imagePreview:n,imagePrev:a,imageNext:o,isFirst:null===a,isLast:null===o,search:Object(yn.e)(e)}}),(function(e){return{showNextImagePreview:function(){e(Object(Gt.A)())},showPreviousImagePreview:function(){e(Object(Gt.B)())}}}),(function(e,t,n){return $o({},n,e,t,{hideImagePreview:function(){var t,n,a,o=e.search;Wt.c.push({search:Object(An.a)(o,(t={},n=In.b.IMAGE,a=null,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))})}})}))(Zo),er=n(700),tr=Object(me.createSelector)([function(e){return e.bannerCreator.library.images.renameImagePopinId},function(e){return e.bannerCreator.library.images.imageList}],(function(e,t){var n=t.find((function(t){return t.id===e}));return n?{visible:!!e,name:n.name}:{visible:!1}})),nr=Object(a.c)(tr,(function(e){return{onRenameHandler:function(t){e(Object(Gt.p)(t))},onCancelHandler:function(){e(Object(Gt.n)())}}}))(er.a),ar=n(1711),or=Object(a.c)((function(e){return{scrollValues:e.bannerCreator.library.images.scroll}}),(function(e){return{deselectAllItems:function(){e(Object(Gt.f)())},setSelectedItems:function(t){e(Object(Gt.v)(t))}}}))(ar.a),rr=n(2479),ir=n.n(rr),lr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ur=h.a.bind(ir.a),fr=function(e){function t(){var e,n,a;cr(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=sr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={selectedWorkspaceId:null,selectedUserId:null},a.onResize=function(){clearTimeout(a.onResizeTimeout),a.onResizeTimeout=setTimeout((function(){a.refScrollArea&&a.props.onScroll(a.refScrollArea.getValues())}),50)},a.onScrollFrame=function(e){clearTimeout(a.onScrollFrameTimeout),a.onScrollFrameTimeout=setTimeout((function(){a.props.onScroll(e)}),50)},sr(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),lr(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.loadResources,a=t.onScroll,o=t.scrollTop;o?setTimeout((function(){e.refScrollArea.scrollTop(o)}),0):this.refScrollArea&&a(this.refScrollArea.getValues()),window.addEventListener("resize",this.onResize),n()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.loading,o=n.onScroll,r=n.scrollTop,i=n.imageListSize,l=n.loadResources;if((e.loading&&!a||i!==e.imageListSize)&&this.refScrollArea)o(this.refScrollArea.getValues());else if(this.refScrollArea){this.refScrollArea.getValues().scrollTop!==r&&this.refScrollArea.scrollTop(r)}t.selectedWorkspaceId===this.state.selectedWorkspaceId&&t.selectedUserId===this.state.selectedUserId||l()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),clearTimeout(this.onScrollFrameTimeout),clearTimeout(this.onResizeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.noImageUploadedScreenVisible,i=t.noImageFoundScreenVisible,l=t.showBulkActionsBar,c=t.clearFilters,s=t.filterApplied,u=t.areItemsBeingDragged,f=t.onScroll;if(n)return null;var p=void 0,m=l?r.a.createElement("div",{className:ir.a.bulkActionsBarContainer},r.a.createElement(Kn,null)):null;return p=a?r.a.createElement(ha,{style:{display:"flex",width:"100%",justifyContent:"center"}},r.a.createElement("div",{className:ir.a.noImageScreenContent},Yt.a,r.a.createElement("div",{className:ir.a.noImageHeader},P.a.libraryNoImageHeader),r.a.createElement("div",{className:ir.a.noImageText},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P.a.libraryNoImageText}})),r.a.createElement("div",null,r.a.createElement(So,{onlyButton:!0})))):i&&s?r.a.createElement(o.Fragment,null,r.a.createElement("div",{className:ir.a.itemsContainer},r.a.createElement(ha,null,r.a.createElement(C.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,skin:w.a.TRANSPARENT_GREY,onScrollFrame:this.onScrollFrame,ref:function(t){e.refScrollArea=t}},r.a.createElement(or,null,r.a.createElement(va,null),r.a.createElement("div",{className:ir.a.noItemsFoundContainer},r.a.createElement("div",null,r.a.createElement("div",null,Yt.a),r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noImagesFoundHeading,size:T.a.XLARGE,skin:w.a.DARK_GREY})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noImagesFoundText,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY})),r.a.createElement("div",null,r.a.createElement(Vt.a,{label:P.a.goBack,size:T.a.LMEDIUM,skin:w.a.BLUE_LINK,onClickHandler:c,style:{padding:0}}),r.a.createElement(F.a,{label:" "+P.a.orSearchAgain,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY}))))))))),r.a.createElement(Qo,null),r.a.createElement(nr,null),r.a.createElement(Xn,null)):i?r.a.createElement("div",{className:ir.a.noItemsFoundContainer},r.a.createElement("div",null,r.a.createElement("div",null,Yt.a),r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noImagesFoundHeading,size:T.a.XLARGE,skin:w.a.DARK_GREY})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noImagesFoundText,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY})),r.a.createElement("div",null,r.a.createElement(Vt.a,{label:P.a.goBack,size:T.a.LMEDIUM,skin:w.a.BLUE_LINK,onClickHandler:c,style:{padding:0}}),r.a.createElement(F.a,{label:" "+P.a.orSearchAgain,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY}))))):r.a.createElement(o.Fragment,null,r.a.createElement("div",{className:ir.a.itemsContainer},r.a.createElement(ha,null,r.a.createElement(C.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,skin:w.a.TRANSPARENT_GREY,onScrollFrame:this.onScrollFrame,ref:function(t){e.refScrollArea=t},verticalAutoScroll:u,setScroll:f},r.a.createElement(or,null,r.a.createElement(va,null),r.a.createElement(xo,null))))),r.a.createElement(Qo,null),r.a.createElement(nr,null),r.a.createElement(Xn,null)),r.a.createElement(o.Fragment,null,m,r.a.createElement("div",{className:ur("container",{noImageUploadedScreenVisible:a,hasBulkActionsBar:l})},p))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return t.selectedWorkspaceId!==e.selectedWorkspaceId&&(n.selectedWorkspaceId=e.selectedWorkspaceId),t.selectedUserId!==e.selectedUserId&&(n.selectedUserId=e.selectedUserId),Object.keys(n).length?n:null}}]),t}(o.Component);fr.propTypes={imageListSize:l.a.number,loading:l.a.bool,areItemsBeingDragged:l.a.bool,noImageUploadedScreenVisible:l.a.bool,noImageFoundScreenVisible:l.a.bool,loadResources:l.a.func.isRequired,onScroll:l.a.func.isRequired,scrollTop:l.a.number.isRequired,showBulkActionsBar:l.a.bool,filterApplied:l.a.bool,clearFilters:l.a.func,selectedWorkspaceId:l.a.number,selectedUserId:l.a.number},fr.defaultProps={imageListSize:0,loading:!1,areItemsBeingDragged:!1,noImageUploadedScreenVisible:!1,noImageFoundScreenVisible:!1,clearFilters:function(){},showBulkActionsBar:!1,filterApplied:!1,selectedWorkspaceId:null,selectedUserId:null};var pr=fr,mr=Object(a.c)((function(e){var t=e.bannerCreator,n=t.library.images,a=t.workspace,o=n.loadedRequests,r=n.scroll.scrollTop,i=n.folderId,l=n.searchValue,c=n.draggingImages,s=a.selectedWorkspaceId,u=a.selectedUserId,f=!o.images||!o.folders,p=Object(Jt.a)(e),m=Qt(e),d=Object(Ro.a)(e),h=!!c.size;return{imageListSize:p.size,scrollTop:r,loading:f,filterApplied:d,areItemsBeingDragged:h,noImageUploadedScreenVisible:!f&&!l&&!d&&0===p.size&&0===m.size,noImageFoundScreenVisible:!f&&(!!l||d)&&0===p.size,showBulkActionsBar:!!p.size||!!m.size||i>0||d||!!l,selectedWorkspaceId:s,selectedUserId:u}}),(function(e){return{onScroll:function(t){e(Object(Gt.u)(t))},loadResources:function(){e(Object(Gt.h)()),e(Object(Gt.i)())},clearFilters:function(){Wt.c.push({search:""})}}}))(pr),dr=n(413),hr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var gr=function(e){function t(){return br(this,t),vr(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hr(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onConfirmClick,a=e.onPopinClose,o=e.selectedFontsIds,i=e.usedFonts,l=e.deletingFonts;if(!t)return null;var c=o.size>1?P.a.confirmDeleteMultipleFonts:P.a.confirmDeleteSingleFont,s=[],u=null;if(s.push(r.a.createElement(L.a,{key:"Button_1",onClick:function(){n(o)},skin:w.a.ACCENT_GREY,size:T.a.MEDIUM,minWidth:"111px",disabled:l},r.a.createElement("span",null,P.a.deleteForever))),s.push(r.a.createElement(L.a,{key:"Button_2",onClick:a,skin:w.a.BLUE,size:T.a.MEDIUM,minWidth:"98px",skipOpacity:!0},r.a.createElement("span",null,P.a.keepIt))),1===o.size&&0===i.size)u=P.a.deleteUnusedFont;else if(1===o.size&&1===i.size)u=P.a.fontIsInUseInBanners.replace("{x}",'"'+i.first()+'"');else if(o.size>1&&0===i.size)u=P.a.deleteUnusedFonts;else if(o.size>1&&1===i.size)u=P.a.fontIsInUseInBanners.replace("{x}",'"'+i.first()+'"');else if(o.size>1&&i.size>1){var f="";i.forEach((function(e){return f+='<br/>"'+e+'"',!0})),u=P.a.fontsAreInUseInBanners.replace("{x}",f)}var p=r.a.createElement("span",{dangerouslySetInnerHTML:{__html:u}});return r.a.createElement(dr.a,{header:c,onClose:a,buttons:s},p)}}]),t}(o.Component),yr=gr;gr.propTypes={onConfirmClick:l.a.func,onPopinClose:l.a.func,selectedFontsIds:l.a.instanceOf(Re.List),usedFonts:l.a.instanceOf(Re.List),visible:l.a.bool,deletingFonts:l.a.bool},gr.defaultProps={onConfirmClick:function(){},onPopinClose:function(){},selectedFontsIds:new Re.List,usedFonts:new Re.List,visible:!1,deletingFonts:!1};var Er=n(1723),wr=Object(a.c)((function(e){var t=e.bannerCreator.library.general.deleteFontPopinVisible,n=e.bannerCreator.library.typography;return{deletingFonts:n.deletingFonts,usedFonts:n.usedFonts,selectedFontsIds:Object(Er.a)(e),visible:t}}),(function(e){return{onConfirmClick:function(t){e(Object(m.c)(t))},onPopinClose:function(){e(Object(m.f)())}}}))(yr),kr=n(1717),Or=Object(a.c)((function(e){return{visible:e.bannerCreator.library.images.addNewFolderPopinVisible}}),(function(e){return{onCreateHandler:function(t){e(Object(Gt.a)(t))},onCancelHandler:function(){e(Object(Gt.j)())}}}))(kr.a),Cr=Object(a.c)((function(e){var t=e.bannerCreator,n=t.library.images.renameFolderPopinVisible;if(!n)return{visible:n};var a=t.library.images,o=a.folderList,r=a.selectedFolders,i=o.find((function(e){return e.id===r.first()}));return{visible:n,name:i?i.name:null}}),(function(e){return{onCancelHandler:function(){e(Object(Gt.m)())},onRenameHandler:function(t){e(Object(Gt.q)(t))}}}))(er.a),Ir=n(1097),Sr=Object(a.c)((function(e){return{visible:e.bannerCreator.library.images.cannotDeleteFolderPopinVisible,headerText:P.a.folderNotEmpty,bodyText:P.a.folderRemoveImages,confirmText:P.a.ok}}),(function(e){return{onConfirmClick:function(){e(Object(Gt.k)())},onClose:function(){e(Object(Gt.k)())}}}))(Ir.a),Tr=n(2480),jr=n.n(Tr),Pr=function(e){var t=e.showItemSelector,n=e.itemsSelectorSelectedType,a=e.itemsSelected,o=e.onDeselectColors,i=e.onSelectAllColors,l=e.onDeleteClick,c=t?r.a.createElement("div",{className:jr.a.itemsSelectorContainer},r.a.createElement(se.a,{icon:Object(ue.a)(n),openOnIconClick:!1,onIconClick:a?o:i,size:T.a.SMEDIUM,skin:w.a.DARK_GREY,tooltipText:a?P.a.deselectAll:P.a.selectAll})):null,s=a?r.a.createElement("div",{className:jr.a.icon},r.a.createElement(ie.b,{placement:oe.a.BOTTOM,title:P.a.delete},r.a.createElement("span",null,r.a.createElement(le.a,{icon:ln.a,iconSize:T.a.LARGE,size:T.a.XLARGE,skin:w.a.DARK_GREY,onClick:l})))):null;return r.a.createElement(ae.a,{style:{padding:"0 20px"}},r.a.createElement("div",{className:jr.a.bulkBarContainer},c,r.a.createElement("div",{className:jr.a.bulkActionsContainer},r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:jr.a.bulkActionsBarEnter,enterActive:jr.a.bulkActionsBarEnterActive,leave:jr.a.bulkActionsBarLeave,leaveActive:jr.a.bulkActionsBarLeaveActive},transitionEnterTimeout:150,transitionLeaveTimeout:150},s))))},Lr=Pr;Pr.propTypes={showItemSelector:l.a.bool,itemsSelectorSelectedType:l.a.oneOf([ce.a.DESELECTED,ce.a.PARTIAL,ce.a.SELECTED]),itemsSelected:l.a.bool,onDeselectColors:l.a.func,onSelectAllColors:l.a.func,onDeleteClick:l.a.func},Pr.defaultProps={showItemSelector:!0,itemsSelectorSelectedType:ce.a.DESELECTED,itemsSelected:!1,onDeselectColors:function(){},onSelectAllColors:function(){},onDeleteClick:function(){}};var Fr=n(1023),_r=Object(a.c)((function(e){var t=e.bannerCreator.library.colorPalette,n=t.colorList,a=t.selectedColorList;return{showItemSelector:!!n.size,itemsSelectorSelectedType:Object(Ae.a)(n.size,a.size),itemsSelected:!!a.size}}),(function(e){return{onDeselectColors:function(){e(Object(Fr.c)())},onSelectAllColors:function(){e(Object(Fr.f)())},onDeleteClick:function(){e(Object(Fr.b)())}}}))(Lr),Ar=r.a.createElement("svg",{xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("path",{id:"a-plus-3",d:"M22 13h-9v9h-2v-9H2v-2h9V2h2v9h9z"})),r.a.createElement("g",{fillRule:"evenodd"},r.a.createElement("mask",{id:"b-plus-3",fill:"#fff"},r.a.createElement("use",{xlinkHref:"#a-plus-3"})),r.a.createElement("g",{fill:"inherit",mask:"url(#b-plus-3)"},r.a.createElement("path",{d:"M0 0h24v24H0z"})))),Nr=n(543),Rr=n(565),xr=n(2481),Mr=n.n(xr),Br=n(120),Dr=r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},r.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},r.a.createElement("g",null,r.a.createElement("path",{d:"M10,4 L10,5 L6,5 L6,7 L7,7 L7,17.9972399 C7,19.1033337 7.90009892,20 9.00104344,20 L10,20 L14, 20 L14.9989566,20 C16.1041023,20 17,19.1041422 17,18.0026083 L17,11 L17,9 L17,7 L18,7 L18,5 L14, 5 L14,4 L10,4 Z M9,9.001 L15,9.001 L15,7 L9,7 L9,9.001 Z M9,18 L15,18 L15,11 L9,11 L9,18 Z"})))),zr=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:"2",d:"M15.9619362,17.4531374 L15.2052738,13.0414566 L18.4105475,9.91708685 L13.9809681,9.27343129 L12,5.25955146 L10.0190319,9.27343129 L5.5894525,9.91708685 L8.79472625,13.0414566 L8.03806376,17.4531374 L12,15.3702243 L15.9619362,17.4531374 Z"})),Ur=n(1707),Hr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Vr=h.a.bind(Mr.a),Yr=function(e){function t(){var e,n,a;Wr(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Gr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={colorOverlayVisible:!1,multipleSelectMode:!1},a.onDeleteClick=function(){var e=a.props,t=e.color;(0,e.onDeleteClick)(t)},a.onEditColorClick=function(e){var t=a.props,n=t.color;(0,t.onEditColorClick)(e,n)},a.onMakePrimaryClick=function(){var e=a.props,t=e.onMakePrimaryClick,n=e.color;e.primary||t(n)},a.onMouseOver=function(e){var t={multipleSelectMode:e.ctrlKey||e.metaKey||e.shiftKey};a.state.colorOverlayVisible||(t.colorOverlayVisible=!0),a.setState(t)},a.onColorClick=function(e){(e.ctrlKey||e.metaKey||e.shiftKey)&&a.selectColor()},a.selectColor=function(){var e=a.props,t=e.color;(0,e.onColorSelect)(t)},a.showOverlay=function(){a.state.colorOverlayVisible||a.setState({colorOverlayVisible:!0})},a.hideOverlay=function(){var e=a.state,t=e.colorOverlayVisible,n=e.multipleSelectMode;(t||n)&&a.setState({colorOverlayVisible:!1,multipleSelectMode:!1})},Gr(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Hr(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.primary,a=e.selected,o=e.disabled,i=e.animating,l=this.state,c=l.colorOverlayVisible,s=l.multipleSelectMode,u=c&&!s?r.a.createElement("div",{className:Vr(Mr.a.actionsIcons)},r.a.createElement(ie.b,{title:n?P.a.primaryColor:P.a.makePrimary,placement:cn.a.BOTTOM,skin:w.a.WHITE},r.a.createElement("div",null,r.a.createElement(le.a,{icon:n?Ur.a:zr,skin:w.a.WHITE_GREY,size:T.a.LARGE,onClick:this.onMakePrimaryClick}))),r.a.createElement(ie.b,{title:P.a.delete,placement:cn.a.BOTTOM,skin:w.a.WHITE},r.a.createElement("div",null,r.a.createElement(le.a,{icon:Dr,skin:w.a.WHITE_GREY,size:T.a.LARGE,onClick:this.onDeleteClick})))):null,f=c&&!s?r.a.createElement("div",{className:Mr.a.editButtonContainer},r.a.createElement(Va.a,null,r.a.createElement(on.a,{onClickHandler:this.onEditColorClick,icon:Br.a,label:P.a.edit}))):null,p=c||a?r.a.createElement("div",{className:Mr.a.overlay},r.a.createElement("div",{className:Mr.a.topContainer},r.a.createElement(ie.b,{title:a?P.a.deselectOverlay:P.a.selectOverlay,skin:w.a.WHITE,placement:cn.a.BOTTOM},r.a.createElement("div",null,r.a.createElement(Ue.a,{skin:w.a.BLUE_WHITE,onChange:this.selectColor,checked:a,shape:He.a.ROUNDED_RECTANGLE}))),u),f):null,m=n?" - "+P.a.primary:null;return r.a.createElement("div",{className:Vr(Mr.a.colorItemContainer,{disabled:o,multipleSelectMode:s,animating:i}),onMouseOver:this.onMouseOver,onMouseLeave:this.hideOverlay,onClick:this.onColorClick},r.a.createElement("div",{className:Mr.a.colorContainer,style:{background:t}},r.a.createElement(g.CSSTransitionGroup,{key:"overlay-color",transitionName:{enter:Mr.a.enter,leave:Mr.a.leave,enterActive:Mr.a.enterActive,leaveActive:Mr.a.leaveActive},transitionEnterTimeout:100,transitionLeaveTimeout:100},p)),r.a.createElement("div",{className:Mr.a.footer},t,r.a.createElement("span",{className:Mr.a.primaryLabel},m)))}}]),t}(o.Component),Kr=Yr;Yr.propTypes={color:l.a.string,primary:l.a.bool,onEditColorClick:l.a.func,selected:l.a.bool,onColorSelect:l.a.func,disabled:l.a.bool,onDeleteClick:l.a.func,onMakePrimaryClick:l.a.func,animating:l.a.bool},Yr.defaultProps={color:"",primary:!1,onEditColorClick:function(){},selected:!1,onColorSelect:function(){},disabled:!1,animating:!1,onDeleteClick:function(){},onMakePrimaryClick:function(){}};var qr=n(2482),Xr=n.n(qr),Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jr=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$r={colorPickerOpened:!1,mouseX:0,mouseY:0,colorToEdit:null,customColor:"#ffffff",colorAlreadyInList:null};function Qr(e){var t=e.colorList,n=e.onColorSelect,a=e.selectedColorList,i=e.deletingColors,l=e.onColorDelete,c=e.onColorMakePrimary,s=e.colorLimit,u=e.onColorAdd,f=e.onColorEdit,p=e.selectedWorkspaceId,m=e.selectedUserId,d=e.loadResources;Object(o.useEffect)((function(){d()}),[m,p,d]);var h=Object(o.useRef)(null),b=Object(o.useState)($r),v=Jr(b,2),g=v[0],y=g.colorPickerOpened,E=g.mouseX,k=g.mouseY,O=g.colorToEdit,I=g.customColor,S=g.colorAlreadyInList,T=v[1],j=function(){T($r)},L=function(e,n){t.size>s&&!O||(y?j():function(e,t,n){var a=0,o=0;if(h){var r=h.getBoundingClientRect(),i=r.left,l=r.top,c=r.width;a=e-i,o=t-l,c+i<e+306&&(a=e-i-306)}T((function(e){return Zr({},e,{colorPickerOpened:!0,mouseX:a>0?a:120,mouseY:o,colorToEdit:n,customColor:n||"#ffffff"})}))}(e.clientX,e.clientY,n))},F=y?r.a.createElement("div",{className:Xr.a.colorPickerContainer,style:{top:k,left:E}},r.a.createElement(Rr.a,{style:{width:"306px"}},r.a.createElement(Nr.a,{color:I,onChange:function(e){T((function(t){return Zr({},t,{customColor:e})}))},onOk:function(e){if(j(),t.find((function(t){return t.color===e})))return T((function(t){return Zr({},t,{colorAlreadyInList:e})})),void setTimeout((function(){T((function(e){return Zr({},e,{colorAlreadyInList:null})}))}),1e3);O?f(O,e):u(e)},onCancel:j,confirmText:P.a.addColor,dontApplyColorOnClickOutside:!0}))):null,_=t.size<s||0===s?r.a.createElement("div",{className:Xr.a.addColorButton,onClick:L},r.a.createElement("div",{className:Xr.a.plusSign},Ar),P.a.addColor):null;return r.a.createElement(C.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,skin:w.a.TRANSPARENT_GREY},r.a.createElement("div",{className:Xr.a.colorListContainer,ref:function(e){h=e}},_,F,t.reverse().map((function(e){var t=e.color,o=e.primary;return r.a.createElement(Kr,{color:t,key:t,primary:o,onEditColorClick:L,onColorSelect:n,selected:a.contains(t),disabled:i.contains(t),onDeleteClick:l,onMakePrimaryClick:c,animating:t===S})}))))}var ei=Qr;Qr.propTypes={colorList:l.a.instanceOf(Re.List),onColorAdd:l.a.func,onColorEdit:l.a.func,onColorSelect:l.a.func,selectedColorList:l.a.instanceOf(Re.List),deletingColors:l.a.instanceOf(Re.List),onColorDelete:l.a.func,onColorMakePrimary:l.a.func,colorLimit:l.a.number,selectedWorkspaceId:l.a.number,selectedUserId:l.a.number,loadResources:l.a.func},Qr.defaultProps={colorList:new Re.List,onColorAdd:function(){},onColorEdit:function(){},onColorSelect:function(){},selectedColorList:new Re.List,deletingColors:new Re.List,onColorDelete:function(){},onColorMakePrimary:function(){},colorLimit:0,selectedWorkspaceId:null,selectedUserId:null,loadResources:function(){}};var ti=Object(a.c)((function(e){var t=Object(Dt.a)(e).bmWorkspaceColorPalette,n=e.bannerCreator,a=n.library.colorPalette,o=a.colorList,r=a.selectedColorList,i=a.deletingColors,l=n.workspace,c=l.selectedWorkspaceId,s=l.selectedUserId;return{colorList:o,selectedColorList:r,deletingColors:i,colorLimit:parseInt(t),selectedWorkspaceId:c,selectedUserId:s}}),(function(e){return{onColorAdd:function(t){e(Object(Fr.a)(t))},onColorEdit:function(t,n){e(Object(Fr.d)(t,n))},onColorSelect:function(t){e(Object(Fr.h)(t))},onColorDelete:function(t){e(Object(Fr.b)([t]))},onColorMakePrimary:function(t){e(Object(Fr.g)(t))},loadResources:function(){e(Object(Fr.e)())}}}))(ei),ni=n(2483),ai=n.n(ni),oi=function(e){var t=e.upgradeOverlayVisible;return r.a.createElement("div",{className:ai.a.colorPaletteContainer},r.a.createElement(_r,null),r.a.createElement("div",{className:ai.a.itemsContainer},r.a.createElement(ti,null),r.a.createElement(M,{visible:t,contentText:P.a.accessCustomLibraries})))};oi.propTypes={upgradeOverlayVisible:l.a.bool},oi.defaultProps={upgradeOverlayVisible:!1};var ri=oi,ii=Object(a.c)((function(e){var t=Object(Dt.a)(e).bmWorkspaceColorPalette;return{upgradeOverlayVisible:0===parseInt(t)}}),null)(ri),li=n(407),ci=n(490),si=n(506),ui=n(712),fi=n(2484),pi=n.n(fi),mi=function(e){var t=e.searchValue,n=e.noTemplates,a=e.onSearch;return n&&!t?null:r.a.createElement(ae.a,{style:{padding:"0 20px"}},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",{className:pi.a.searchContainer},r.a.createElement(Nn.a,{placeholder:P.a.searchTemplates,searchBarContainer:!0,skin:w.a.DARK_GREY,value:t,placement:st.a.MY_BANNERS_FILTERS,onSearch:a,showClearIcon:!0,withAnimation:!0})))};mi.propTypes={handleSearch:l.a.func,onSearch:l.a.func,searchValue:l.a.string,noTemplates:l.a.bool},mi.defaultProps={handleSearch:function(){},onSearch:function(){},searchValue:"",noTemplates:!0};var di=mi,hi=n(660);function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vi=Object(a.c)((function(e){return{noTemplates:Object(hi.a)(e).size<1,searchValue:e.bannerCreator.library.templates.searchValue}}),(function(e){return{onSearch:function(t){return e((function(e,n){var a=Object(yn.e)(n());Wt.c.push({search:Object(An.a)(a,bi({},In.d.SEARCH,t))})}))}}}))(di),gi=n(1424),yi=Object(me.createSelector)([function(e){return e.bannerCreator.myBanners.banners.allItems},function(e){return e.bannerCreator.library.templates.templateList},function(e){return e.bannerCreator.library.templates.previewTemplateHash}],(function(e,t,n){var a={},o=e.find((function(e){return e.hash===n}));o&&t.includes(o.id)&&(a={hash:o.hash,width:o.width,height:o.height,isAnimated:o.isAnimated()});return a})),Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var wi=Object(a.c)((function(e){var t=e.bannerCreator.library.templates.previewTemplateHash,n=yi(e);return{templateSrc:"//cdn.bannersnack.com/banners/"+t+"/embed/index.html",templateHash:n.hash,templateWidth:n.width,templateHeight:n.height,animatedTemplatePreview:n.isAnimated,search:Object(yn.e)(e)}}),(function(e){return{onSubmit:function(t){e(Object(ui.f)(t))}}}),(function(e,t,n){return Ei({},n,e,t,{onCancel:function(){var t,n,a,o=e.search;Wt.c.push({search:Object(An.a)(o,(t={},n=In.b.TEMPLATE,a=null,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))})}})}))(gi.a),ki=n(1733),Oi=n(418),Ci=n(1751),Ii=n(1385),Si=n(2485),Ti=n.n(Si),ji=n(1038),Pi=n(785),Li=n(1382),Fi=n(2486),_i=n.n(Fi),Ai=n(2487),Ni=n.n(Ai),Ri=n(1381),xi=n(2488),Mi=n.n(xi),Bi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ui=function(e){function t(){var e,n,a;Di(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=zi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onRemoveTemplateClick=function(e){a.props.onRemoveTemplateClick(e),a.props.onPopinOpen()},a.onRenameClick=function(e,t,n){a.props.onRenameClick(e,t,n),a.props.onPopinOpen()},a.onViewClick=function(e){a.props.onViewClick(e),a.props.onPopinOpen()},zi(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bi(t,[{key:"getContent",value:function(){var e=this,t=this.props,n=t.readonly,a=t.onEditClick,o=t.template,i=t.editable,l=r.a.createElement("div",{className:Mi.a.viewIconLabelButton},r.a.createElement(on.a,{icon:Ga.a,label:P.a.view,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:function(){return e.onViewClick(o.hash)}})),c=r.a.createElement("div",{className:Mi.a.editIconLabelButton},r.a.createElement(on.a,{icon:Br.a,label:P.a.editWorkspaceTemplate,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:function(){return a(o.hash)}})),s=n?null:r.a.createElement("div",{className:Mi.a.separator}),u=!n&&i?r.a.createElement(on.a,{icon:rn.a,label:P.a.rename,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:function(){return e.onRenameClick(o.id,o.name,o.banner_type)}}):null,f=r.a.createElement("div",{className:Mi.a.embedIconLabelButton},r.a.createElement(on.a,{icon:Ri.a,label:P.a.removeWorkspaceTemplate,size:T.a.NORMAL,skin:w.a.TRANSPARENT_BLUE,alignContent:cn.a.LEFT,onClickHandler:function(){return e.onRemoveTemplateClick(o.id)}}));return r.a.createElement("div",{className:Mi.a.buttons},l,c,f,s,u)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Mi.a.moreTemplateOptions},r.a.createElement(an.a,null,this.getContent())))}}]),t}(o.Component);Ui.propTypes={template:l.a.object,readonly:l.a.bool,onViewClick:l.a.func,onRemoveTemplateClick:l.a.func,onRenameClick:l.a.func,onEditClick:l.a.func,editable:l.a.bool,onPopinOpen:l.a.func},Ui.defaultProps={template:{},readonly:!1,onViewClick:function(){},onPopinOpen:function(){},onRenameClick:function(){},onRemoveTemplateClick:function(){},onEditClick:function(){},editable:!0};var Hi=Ui,Wi=Object(a.c)((function(e,t){var n=e.bannerCreator.myBanners.banners.get("allItems").find((function(e){return e.id===t.templateId}));if(!n)return null;var a=!Object(p.a)(e),o=!a,r=Object(Dt.a)(e).bmBannerGenerator;return n.isBannerSet()&&r===li.a.NO&&(a=!0,o=!1),{template:n,readonly:a,onPopinOpen:t.onPopinOpen,editable:o}}),(function(e){return{onViewClick:function(t){e(Object(ui.e)(t))},onRemoveTemplateClick:function(t){e(Object(ui.d)(t,!1))},onRenameClick:function(t,n,a){e(Object(si.u)(t,n,a))},onEditClick:function(t){e(Object(ui.b)(t))}}}))(Hi),Gi=n(435),Vi=n(494),Yi=n(533),Ki=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Zi=h.a.bind(Ni.a),Ji=function(e){function t(){return qi(this,t),Xi(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ki(t,[{key:"getSizeOrCountString",value:function(){var e=this.props.template,t=Gi.a.PX,n=e.measureUnit,a=e.banner_size,o=e.width,r=e.height;if(!e)return"";var i=a?Math.round(a/1024*100)/100:0;return(o=n===t?o:Object(Vi.b)(Object(Vi.a)(t,n,o),Yi.a[n]))+" x "+(r=n===t?r:Object(Vi.b)(Object(Vi.a)(t,n,r),Yi.a[n]))+" "+n+"\n            "+(e.isRealSize()?" | ":" ~ ")+" "+i+" KB"}},{key:"getMainButtons",value:function(){var e=[],t=this.props,n=t.template,a=t.onStartFromThisClick;n.type===Oi.a.PUBLISH&&e.push({label:P.a.startFromThis,action:function(){return a(n.hash)}});var o=e.length,i="";return i=1===o?"100%":3===o||o>=5?"33.3%":"50%",e.map((function(e){var t={minWidth:i},n=r.a.createElement(Vt.a,{onClickHandler:e.action,label:e.label,skin:w.a.TEMPLATES,size:T.a.SMEDIUM});return r.a.createElement("div",{style:t,className:Zi("btn","transparent"),key:e.label},n)}))}},{key:"getContent",value:function(){var e=this.props,t=e.showTemplateOptions,n=e.template,a=e.onShowPopin,o=null;return t&&(o=r.a.createElement("div",null,r.a.createElement("div",{className:Ni.a.mainContainer,"data-selectable":!0,"data-draggable":!0},r.a.createElement("div",{className:Ni.a.buttonsContainer},r.a.createElement(Va.a,null,this.getMainButtons()))),r.a.createElement("div",{className:Ni.a.topContainer,"data-selectable":!0,"data-draggable":!0},r.a.createElement(Wi,{templateId:n.id,onPopinOpen:a})),r.a.createElement("div",{className:Ni.a.bottomContainer},r.a.createElement("span",{className:Ni.a.templateSize},r.a.createElement(F.a,{size:T.a.SMALL,label:this.getSizeOrCountString()}))))),r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:Ni.a.enter,leave:Ni.a.leave,enterActive:Ni.a.enterActive,leaveActive:Ni.a.leaveActive},transitionEnterTimeout:200,transitionLeaveTimeout:200},o)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a={};return t&&(a.width=t),n&&(a.height=n),r.a.createElement("div",{style:a,className:Ni.a.templateItemOverlay,"data-selectable":!0,"data-draggable":!0},this.getContent())}}]),t}(o.Component);Ji.propTypes={width:l.a.string,height:l.a.string,disabled:l.a.bool,template:l.a.object.isRequired,showTemplateOptions:l.a.bool,onStartFromThisClick:l.a.func,onShowPopin:l.a.func},Ji.defaultProps={showTemplateOptions:!1,onStartFromThisClick:function(){},onShowPopin:function(){}};var $i=Ji,Qi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function el(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var nl=h.a.bind(_i.a),al=function(e){function t(){var e,n,a;el(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=tl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={overlayVisible:!1,imageLoaded:!1},a.onMouseOut=function(e){for(var t=e.toElement||e.relatedTarget;t&&t.parentNode&&t.parentNode!==window;){if(t.parentNode===a.templateItemContainer||t===a.templateItemContainer)return t.preventDefault&&t.preventDefault(),!1;t=t.parentNode}return a.hideOverlay(),!0},a.isComponentMounted=!1,a.showOverlay=function(){a.setState({overlayVisible:!0})},a.hideOverlay=function(){a.setState({overlayVisible:!1})},tl(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qi(t,[{key:"componentDidMount",value:function(){this.isComponentMounted=!0;var e=this.props,t=e.imagePath,n=e.isImageSaved,a=e.template,o=e.isEmbedGenerated,r=e.checkBannerProps;this.isPublished()&&t&&n&&this.preloadImage(a);var i=function(e){r(a.id,e)};this.isPublished()&&(n||i("image"),o||i("embed"))}},{key:"componentWillReceiveProps",value:function(e){var t=e.template,n=e.isImageSaved,a=this.props,o=a.template,r=a.isImageSaved;t&&t.hash&&n&&(t.hash!==o.hash||r!==n)&&this.preloadImage(t)}},{key:"componentWillUnmount",value:function(){this.isComponentMounted=!1,this.preloadImageTimer&&clearTimeout(this.preloadImageTimer)}},{key:"getImageHeight",value:function(){var e=this.props,t=e.width,n=e.template,a=parseInt(t)/n.width;return{width:Math.round(n.width*a),height:Math.round(n.height*a)}}},{key:"getTitleContainer",value:function(){var e=this.props.template;return e&&e.name?r.a.createElement("div",{"data-qa":so.Fb,className:nl(_i.a.templateTitleContainer),"data-selectable":!0,"data-draggable":!0},r.a.createElement("p",{className:nl(_i.a.templateTitle),"data-selectable":!0,"data-draggable":!0},Object(D.u)(e.name,45,!0))):null}},{key:"getPreloader",value:function(){var e=this.props.isImageSaved,t=this.state.imageLoaded;return!this.isPublished()||t&&e?null:r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",left:0,top:0}},r.a.createElement(H.a,{type:T.a.SMALL}))}},{key:"isPublished",value:function(){return"publish"===this.props.template.type}},{key:"preloadImage",value:function(e){var t=this,n=new window.Image,a=e.hash,o=0;if(n.addEventListener("error",(function(){switch(o){case 0:n.src=Object(Li.a)(a,_a.a.MEDIUM,e.date_last_update);break;case 1:n.src=t.props.imagePath}o+=1})),n.addEventListener("load",(function(){t.isComponentMounted&&t.setState({imageLoaded:!0,src:n.src})})),a){var r=Math.round(Date.now()/1e3),i="//cdn.bannersnack.com",l=Math.round(new Date(e.date_last_update).getTime()/1e3);l+3600>r&&(i="//s3.amazonaws.com/newfiles.bannersnack.net"),n.src=i+"/resize/banners/"+a+"/"+_a.a.MEDIUM+"?"+l}else o=2,n.src=this.props.imagePath}},{key:"render",value:function(){var e=this,t=this.props,n=t.template,a=t.width,o=t.onStartFromThisClick,i=Math.max(Math.min(a*parseInt(n.height)/parseInt(n.width),600),140),l=this.state,c=l.imageLoaded,s=l.overlayVisible,u=l.src,f={},p={};a&&(f.width=a+"px",p.width=a+"px",p.height=i+"px");var m=this.getImageHeight(),d=void 0;s&&(d=r.a.createElement($i,{template:n,showTemplateOptions:s,width:"100%",onPopinOpen:this.hideOverlay,onStartFromThisClick:o,onShowPopin:this.hideOverlay}));var h=n.width>=a&&n.height>=i&&Math.round(n.width/a)===Math.round(n.height/i)?6:0,b={display:c?"block":"none",borderTopRightRadius:h+"px",borderTopLeftRadius:h+"px"},v=null;return c&&(v=r.a.createElement("img",{style:b,alt:n.name,src:u})),r.a.createElement("div",{"data-qa":so.Eb,style:f,className:_i.a.libraryTemplateItem,ref:function(t){e.templateItemContainer=t},onMouseOut:this.onMouseOut,onMouseOver:this.showOverlay,onClick:this.onBannerItemClick},r.a.createElement(Pi.a,{key:"myCardboard",skin:"white",displayBlock:!0},r.a.createElement("div",{className:_i.a.templatePreviewContainer,style:p},v,this.getPreloader(m),r.a.createElement(g.CSSTransitionGroup,{transitionName:{enter:_i.a.enter,leave:_i.a.leave,enterActive:_i.a.enterActive,leaveActive:_i.a.leaveActive},transitionEnterTimeout:100,transitionLeaveTimeout:100},d)),this.getTitleContainer()))}}]),t}(o.Component);al.propTypes={width:l.a.number,template:l.a.instanceOf(ji.a).isRequired,isImageSaved:l.a.bool,imagePath:l.a.string,isEmbedGenerated:l.a.bool,checkBannerProps:l.a.func,onStartFromThisClick:l.a.func},al.defaultProps={width:"200px",imagePath:"",isImageSaved:!1,onStartFromThisClick:function(){},isEmbedGenerated:!1,checkBannerProps:function(){}};var ol=al,rl=n(620),il=function(e){return!!e.bannerCreator.myBanners.filters.bannerSetId},ll=function(e,t){return t},cl=Object(a.c)((function(){var e=Object(me.createSelector)([p.a,il,ll],(function(e,t,n){var a=n,o="//cdn.bannersnack.com",r=new Date(a.date_last_update).getTime(),i=new Date;if(i.setTime(i.getTime()-864e5),r>i&&(o="//s3.amazonaws.com/newfiles.bannersnack.net"),a.isHtml5())o+="/banners/"+a.hash+"/images/png";else if(a.isBannerSet()){var l=a.banners_hashes.first();l&&(o+="/banners/"+l+"/images/png")}else a.isFlash()&&(o+="/images/firstframe/"+a.hash);return{template:a,imagePath:o+="?_="+r/1e3,isImageSaved:a.isImageSaved(),isEmbedGenerated:a.isEmbedSaved(),isDownloadGenerated:a.isDownloadGenerated(),canEdit:e&&!t}}));return function(t,n){return e(t,n.template)}}),(function(e){return{onStartFromThisClick:function(t){e(Object(ui.f)(t))},checkBannerProps:function(t,n){e(Object(rl.b)(t,n))}}}))(ol),sl="template",ul="banner",fl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ml(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var dl=function(e){function t(){var e,n,a;pl(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=ml(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={columnWidth:0,columnsNumber:0},a.onResize=function(){a.calculateColumnWidth()},a.calculateColumnWidth=function(){var e=a.refBanners.clientWidth,t=Math.floor(e/230),n=Math.floor(e/t)-24;a.setState({columnWidth:n,columnsNumber:t})},ml(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fl(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onComponentMount;e.loading||this.calculateColumnWidth(),t(),window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){!this.props.loading&&e.loading&&this.calculateColumnWidth()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),clearInterval(this.onScrollHandlerTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.title,o=t.showPromoBanner,i=t.gridItemType,l=t.loading,c=this.state,s=c.columnsNumber,u=c.columnWidth,f=[],p=[];if(l)return null;if(this.state.columnsNumber){for(var m=0;m<s;m++)f.push({height:0,content:[]});if(o){var d=u/Ii.a.width*Ii.a.height,h=r.a.createElement(Ci.a,{key:"promoBanner",width:u-4,height:d,paddingBottom:24});f[0].height+=d,f[0].content.push(h)}var b=!0,v=!1,g=void 0;try{for(var y,E=n[Symbol.iterator]();!(b=(y=E.next()).done);b=!0){var w=y.value;if(w){var k=void 0;i===ul?k=w.get("banner"):i===sl&&(k=w);var O=Math.max(Math.min(u*parseInt(k.height)/parseInt(k.width),600),140),C=0,I=!0,S=!1,T=void 0;try{for(var j,P=k.tags[Symbol.iterator]();!(I=(j=P.next()).done);I=!0){var L=j.value;L.tag&&(C+=L.tag.length)}}catch(e){S=!0,T=e}finally{try{!I&&P.return&&P.return()}finally{if(S)throw T}}var F=24+C/35*19,_=0;"banner"===i&&k.banner_type===Oi.a.SET&&(_=35);var A=Object(go.a)(f);f[A].height+=O+24+F+_,i===ul?f[A].content.push(r.a.createElement(ki.a,{key:k.id,banner:w,width:u-4})):i===sl&&f[A].content.push(r.a.createElement(cl,{key:k.id,template:w,width:u-4}))}}}catch(e){v=!0,g=e}finally{try{!b&&E.return&&E.return()}finally{if(v)throw g}}for(var N=0;N<f.length;N++)p.push(r.a.createElement("div",{key:N,className:Ti.a.column,style:{width:u+24}},f[N].content))}var R=null;return a&&(R=r.a.createElement("div",{className:Ti.a.title},a)),r.a.createElement("div",{className:Ti.a.itemsGrid},R,r.a.createElement("div",{ref:function(t){e.refBanners=t},className:Ti.a.items},p))}}]),t}(o.Component);dl.propTypes={items:l.a.instanceOf(Re.List).isRequired,title:l.a.string,showPromoBanner:l.a.bool,loading:l.a.bool,onComponentMount:l.a.func,gridItemType:l.a.string},dl.defaultProps={title:null,showPromoBanner:!1,loading:!0,gridItemType:l.a.oneOf([ul,sl]),onComponentMount:function(){}};var hl=dl,bl=Object(a.c)((function(e){var t=e.bannerCreator,n=t.library,a=t.myBanners,o=n.templates.templatesLoaded,r=!a.banners.isFetchingAll;return{items:Object(hi.a)(e),gridItemType:sl,loading:!(o&&r)}}),null)(hl),vl=n(2489),gl=n.n(vl),yl=h.a.bind(gl.a);function El(e){var t=e.noTemplates,n=e.loading,a=e.canAccessTemplates,i=e.previewTemplateVisible,l=e.searchValue,c=e.loadResources,s=e.selectedWorkspaceId,u=e.selectedUserId,f=e.onButtonClick,p=e.clearSearch;Object(o.useEffect)((function(){a&&c()}),[u,s,c,a]);var m=r.a.createElement("div",{className:gl.a.noItemsFoundContainer},r.a.createElement("div",null,r.a.createElement("div",null,Yt.a),r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noImagesFoundHeading,size:T.a.XLARGE,skin:w.a.DARK_GREY})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(F.a,{label:P.a.noTemplatesFoundText,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY})),r.a.createElement("div",null,r.a.createElement(Vt.a,{label:P.a.goBack,size:T.a.LMEDIUM,skin:w.a.BLUE_LINK,onClickHandler:p,style:{padding:0}}),r.a.createElement(F.a,{label:" "+P.a.orSearchAgain,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY}))))),d=r.a.createElement("div",{className:gl.a.noItemsContainer},r.a.createElement("div",{className:gl.a.topRow},r.a.createElement("div",{className:gl.a.noItemsIcon},Yt.a),r.a.createElement("div",{className:gl.a.noItemsHeading},r.a.createElement(F.a,{label:P.a.noTemplatesHeading,size:T.a.XLARGE,skin:w.a.DARK_GREY})),r.a.createElement("div",{className:gl.a.noItemsMessage},r.a.createElement(F.a,{label:P.a.noTemplatesText,size:T.a.LMEDIUM,skin:w.a.LIGHT_GREY})),r.a.createElement("div",{className:gl.a.button},r.a.createElement(L.a,{size:T.a.LARGE,skin:w.a.BLUE,onClick:f},P.a.goToBanners)))),h=void 0;return a?t&&!n&&(h=l?m:d):h=r.a.createElement(M,{visible:!0,contentText:P.a.libraryTemplatesUpgradeText}),r.a.createElement("div",{className:yl("libraryTemplatesContainer",{upgrade:!a})},r.a.createElement(vi,null),r.a.createElement("div",{className:gl.a.itemsContainer},r.a.createElement(C.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,skin:w.a.TRANSPARENT_GREY},r.a.createElement(bl,null),h,i?r.a.createElement(wi,null):null)))}El.propTypes={noTemplates:l.a.bool,loading:l.a.bool,canAccessTemplates:l.a.bool,previewTemplateVisible:l.a.bool,onButtonClick:l.a.func,loadResources:l.a.func,searchValue:l.a.string,clearSearch:l.a.func,selectedWorkspaceId:l.a.number,selectedUserId:l.a.number},El.defaultProps={noTemplates:!0,loading:!0,canAccessTemplates:!1,previewTemplateVisible:!1,onButtonClick:function(){},loadResources:function(){},searchValue:"",clearSearch:function(){},selectedWorkspaceId:null,selectedUserId:null};var wl=El,kl=Object(a.c)((function(e){var t=e.bannerCreator.library.templates,n=t.templatesLoaded,a=t.previewTemplateHash,o=!e.bannerCreator.myBanners.banners.isFetchingAll,r=Object(hi.a)(e),i=Object(Dt.a)(e).bmWorkspaceTemplates===li.a.YES,l=e.bannerCreator.workspace,c=l.selectedWorkspaceId,s=l.selectedUserId,u=!!a&&r.some((function(e){return e.hash===a}));return{loading:!(n&&o),noTemplates:r.size<1,canAccessTemplates:i,previewTemplateVisible:u,searchValue:e.bannerCreator.library.templates.searchValue,selectedWorkspaceId:c,selectedUserId:s}}),(function(e){return{onButtonClick:function(){e(Object(ci.b)())},loadResources:function(){e(Object(si.m)(!0,!0)),e(Object(ui.c)())},clearSearch:function(){Wt.c.push({search:""})}}}))(wl),Ol=n(713),Cl=n(1705),Il=r.a.createElement("svg",{xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("path",{id:"pallete-a",d:"M21 2c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1h-7c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7zm0 11c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1h-7c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h7zm-11 0c.55 0 1 .45 1 1v7c0 .55-.45 1-1 1H3c-.55 0-1-.45-1-1v-7c0-.55.45-1 1-1h7zm1-5H8v3H6V8H3V6h3V3h2v3h3v2z"})),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("mask",{id:"pallete-b",fill:"#fff"},r.a.createElement("use",{xlinkHref:"#pallete-a"})),r.a.createElement("g",{fill:"#fff",mask:"url(#pallete-b)"},r.a.createElement("path",{d:"M0 0h24v24H0z"})))),Sl=n(1706),Tl=[{label:P.a.images,icon:ta.a,value:f.a.IMAGES},{label:P.a.typography,icon:Cl.a,value:f.a.TYPOGRAPHY},{label:P.a.colorPalette,icon:Il,value:f.a.COLOR_PALETTE},{label:P.a.templates,icon:Sl.a,value:f.a.TEMPLATES}],jl=n(2490),Pl=n.n(jl),Ll=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Al=h.a.bind(Pl.a),Nl=function(e){function t(){var e,n,a;Fl(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=_l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onButtonClick=function(){var e=a.props,t=e.onButtonClick,n=e.selected,o=e.item;n||t(o.value)},_l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ll(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.selected;return r.a.createElement("div",{onClick:this.onButtonClick,className:Al("librarySidebarItem",{selected:n})},r.a.createElement("div",{className:Pl.a.icon},t.icon),r.a.createElement("div",{className:Pl.a.text},t.label))}}]),t}(o.Component);Nl.propTypes={item:l.a.shape({label:l.a.string,icon:l.a.element,value:l.a.oneOf([f.a.IMAGES,f.a.TYPOGRAPHY,f.a.COLOR_PALETTE,f.a.TEMPLATES])}),onButtonClick:l.a.func,selected:l.a.bool},Nl.defaultProps={item:{label:null,icon:null,value:f.a.IMAGES},selected:!1,onButtonClick:function(){}};var Rl=Nl,xl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Dl=function(e){function t(){var e,n,a;Ml(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=Bl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.onSidebarItemClick=function(e){Wt.c.push(a.props.baseUrl+"/"+e+"/")},a.clickHandlers={},Bl(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xl(t,[{key:"getOnSidebarItemClick",value:function(e){var t=this;return Object.prototype.hasOwnProperty.call(this.clickHandlers,e)||(this.clickHandlers[e]=function(){return t.onSidebarItemClick(e)}),this.clickHandlers[e]}},{key:"render",value:function(){var e=this,t=this.props.sidebarSelectedTab;return Tl.map((function(n){return r.a.createElement(Rl,{key:n.label,item:n,onButtonClick:e.getOnSidebarItemClick(n.value),selected:t===n.value})}))}}]),t}(o.Component);Dl.propTypes={sidebarSelectedTab:l.a.string,baseUrl:l.a.string.isRequired},Dl.defaultProps={sidebarSelectedTab:f.a.IMAGES};var zl=Dl,Ul=n(648),Hl=n(1731),Wl=n(1720),Gl=n(82),Vl=n(84),Yl=n(854),Kl=n(862),ql=n(51),Xl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Zl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $l=function(e){function t(){return Zl(this,t),Jl(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xl(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldLoadWorkspaces,n=e.loadWorkspaces;t&&n()}},{key:"render",value:function(){var e=this.props,t=e.sidebarSelectedTab,n=e.user,a=e.match,o=a.path,i=a.url,l=e.goToWorkspace;return n?r.a.createElement(Ol.a,{className:u.a.libraryError},r.a.createElement("div",{className:u.a.library},r.a.createElement(Ol.a,{className:u.a.librarySideBarError},r.a.createElement("div",{className:u.a.sidebar,"data-qa":so.Db},r.a.createElement(zl,{sidebarSelectedTab:t,baseUrl:i}))),r.a.createElement("div",{className:u.a.content,"data-qa":so.Cb},r.a.createElement(Ol.a,{className:u.a.libraryError,key:t},r.a.createElement(c.e,null,r.a.createElement(c.c,{exact:!0,path:o+"/typography/",component:Ht}),r.a.createElement(c.c,{exact:!0,path:o+"/color-palette/",component:ii}),r.a.createElement(c.c,{exact:!0,path:o+"/templates/",component:kl}),r.a.createElement(c.c,{exact:!0,path:o+"/images/",component:mr}),r.a.createElement(c.b,{exact:!0,from:o+"/",to:o+"/images/"}),r.a.createElement(c.c,{component:function(){return r.a.createElement(ql.a.Consumer,null,(function(e){var t=e.removePreloader,n=e.loading;return r.a.createElement(Vl.a,{title:Gl.b.pageNotFound,description:Gl.b.pageNotFoundDescription,buttonText:Gl.b.goToWorkspace,onButtonClick:l,svg:Yl.a,type:Kl.a[404],removePreloader:n?t:At.a})}))}})))),r.a.createElement(Ol.a,null,r.a.createElement(Wl.a,null),r.a.createElement(Hl.a,null)),r.a.createElement(wr,null),r.a.createElement(Or,null),r.a.createElement(Cr,null),r.a.createElement(Sr,null))):null}}]),t}(o.Component);$l.propTypes={sidebarSelectedTab:l.a.oneOf([f.a.TYPOGRAPHY,f.a.IMAGES,f.a.COLOR_PALETTE,f.a.TEMPLATES]),match:l.a.object.isRequired,user:l.a.instanceOf(Ul.b),shouldLoadWorkspaces:l.a.bool,loadWorkspaces:l.a.func,goToWorkspace:l.a.func.isRequired},$l.defaultProps={sidebarSelectedTab:f.a.IMAGES,user:new Ul.b,shouldLoadWorkspaces:!1,loadWorkspaces:function(){}};var Ql=$l,ec=n(542),tc=n(425),nc=Object(a.c)((function(e){var t=e.bannerCreator,n=t.library.general.sidebarSelectedTab,a=t.workspace.workspaces,o=Object(je.a)(e);return{sidebarSelectedTab:n,user:o,shouldLoadWorkspaces:(o.isPlus||o.isInTeam)&&!a.size}}),(function(e){return{loadWorkspaces:function(){e(Object(ec.i)())},goToWorkspace:function(){e(Object(tc.a)())}}}))(Ql);t.default=nc}}]);
//# sourceMappingURL=library.8e9132b8c0c79382a474.js.map